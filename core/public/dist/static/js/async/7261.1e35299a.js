"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["7261"],{27062:function(e,t,a){a.d(t,{Z:()=>s});var l=a(58786),r=a(82518),i=a(86223);function s(e={},t){let a=(0,l.qj)({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:n,keyup:o}=e,u=e=>{switch(e.key){case"Control":a.ctrl=!0;break;case"Meta":a.command=!0,a.win=!0;break;case"Shift":a.shift=!0;break;case"Tab":a.tab=!0}void 0!==n&&Object.keys(n).forEach(t=>{if(t!==e.key)return;let a=n[t];if("function"==typeof a)a(e);else{let{stop:t=!1,prevent:l=!1}=a;t&&e.stopPropagation(),l&&e.preventDefault(),a.handler(e)}})},c=e=>{switch(e.key){case"Control":a.ctrl=!1;break;case"Meta":a.command=!1,a.win=!1;break;case"Shift":a.shift=!1;break;case"Tab":a.tab=!1}void 0!==o&&Object.keys(o).forEach(t=>{if(t!==e.key)return;let a=o[t];if("function"==typeof a)a(e);else{let{stop:t=!1,prevent:l=!1}=a;t&&e.stopPropagation(),l&&e.preventDefault(),a.handler(e)}})},d=()=>{(void 0===t||t.value)&&((0,r.on)("keydown",document,u),(0,r.on)("keyup",document,c)),void 0!==t&&(0,l.YP)(t,e=>{e?((0,r.on)("keydown",document,u),(0,r.on)("keyup",document,c)):((0,r.S)("keydown",document,u),(0,r.S)("keyup",document,c))})};return(0,i.N)()?((0,l.wF)(d),(0,l.Jd)(()=>{(void 0===t||t.value)&&((0,r.S)("keydown",document,u),(0,r.S)("keyup",document,c))})):d(),(0,l.OT)(a)}},46471:function(e,t,a){a.d(t,{Z:()=>m});var l=a(32510),r=a(91792),i=a(75266),s=a(3073),n=a(67737),o=a(4339),u=a(98168),c=a(77407),d=Object.prototype.hasOwnProperty;let m=function(e){if(null==e)return!0;if((0,n.Z)(e)&&((0,s.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,o.Z)(e)||(0,c.Z)(e)||(0,i.Z)(e)))return!e.length;var t=(0,r.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,u.Z)(e))return!(0,l.Z)(e).length;for(var a in e)if(d.call(e,a))return!1;return!0}},66236:function(e,t,a){a.d(t,{W3:()=>d,ZP:()=>p});var l=a(58786),r=a(56946),i=a(54470),s=a(53198),n=a(19050),o=a(55456),u=a(71309);let c=(0,u.cB)("breadcrumb",`
 white-space: nowrap;
 cursor: default;
 line-height: var(--n-item-line-height);
`,[(0,u.c)("ul",`
 list-style: none;
 padding: 0;
 margin: 0;
 `),(0,u.c)("a",`
 color: inherit;
 text-decoration: inherit;
 `),(0,u.cB)("breadcrumb-item",`
 font-size: var(--n-font-size);
 transition: color .3s var(--n-bezier);
 display: inline-flex;
 align-items: center;
 `,[(0,u.cB)("icon",`
 font-size: 18px;
 vertical-align: -.2em;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `),(0,u.c)("&:not(:last-child)",[(0,u.cM)("clickable",[(0,u.cE)("link",`
 cursor: pointer;
 `,[(0,u.c)("&:hover",`
 background-color: var(--n-item-color-hover);
 `),(0,u.c)("&:active",`
 background-color: var(--n-item-color-pressed); 
 `)])])]),(0,u.cE)("link",`
 padding: 4px;
 border-radius: var(--n-item-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 position: relative;
 `,[(0,u.c)("&:hover",`
 color: var(--n-item-text-color-hover);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-hover);
 `)]),(0,u.c)("&:active",`
 color: var(--n-item-text-color-pressed);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-pressed);
 `)])]),(0,u.cE)("separator",`
 margin: 0 8px;
 color: var(--n-separator-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 `),(0,u.c)("&:last-child",[(0,u.cE)("link",`
 font-weight: var(--n-font-weight-active);
 cursor: unset;
 color: var(--n-item-text-color-active);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-active);
 `)]),(0,u.cE)("separator",`
 display: none;
 `)])])]),d=(0,n.U)("n-breadcrumb"),m=Object.assign(Object.assign({},r.Z.props),{separator:{type:String,default:"/"}}),p=(0,l.aZ)({name:"Breadcrumb",props:m,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:a}=(0,i.ZP)(e),n=(0,r.Z)("Breadcrumb","-breadcrumb",c,o.Z,e,t);(0,l.JJ)(d,{separatorRef:(0,l.Vh)(e,"separator"),mergedClsPrefixRef:t});let u=(0,l.Fl)(()=>{let{common:{cubicBezierEaseInOut:e},self:{separatorColor:t,itemTextColor:a,itemTextColorHover:l,itemTextColorPressed:r,itemTextColorActive:i,fontSize:s,fontWeightActive:o,itemBorderRadius:u,itemColorHover:c,itemColorPressed:d,itemLineHeight:m}}=n.value;return{"--n-font-size":s,"--n-bezier":e,"--n-item-text-color":a,"--n-item-text-color-hover":l,"--n-item-text-color-pressed":r,"--n-item-text-color-active":i,"--n-separator-color":t,"--n-item-color-hover":c,"--n-item-color-pressed":d,"--n-item-border-radius":u,"--n-font-weight-active":o,"--n-item-line-height":m}}),m=a?(0,s.F)("breadcrumb",void 0,u,e):void 0;return{mergedClsPrefix:t,cssVars:a?void 0:u,themeClass:null==m?void 0:m.themeClass,onRender:null==m?void 0:m.onRender}},render(){var e;return null==(e=this.onRender)||e.call(this),(0,l.h)("nav",{class:[`${this.mergedClsPrefix}-breadcrumb`,this.themeClass],style:this.cssVars,"aria-label":"Breadcrumb"},(0,l.h)("ul",null,this.$slots))}})},70958:function(e,t,a){a.d(t,{Z:()=>n});var l=a(58786),r=a(93950),i=a(68574),s=a(66236);let n=(0,l.aZ)({name:"BreadcrumbItem",props:{separator:String,href:String,clickable:{type:Boolean,default:!0},onClick:Function},slots:Object,setup(e,{slots:t}){let a=(0,l.f3)(s.W3,null);if(!a)return()=>null;let{separatorRef:n,mergedClsPrefixRef:o}=a,u=function(e=i.j?window:null){let t=()=>{let{hash:t,host:a,hostname:l,href:r,origin:i,pathname:s,port:n,protocol:o,search:u}=(null==e?void 0:e.location)||{};return{hash:t,host:a,hostname:l,href:r,origin:i,pathname:s,port:n,protocol:o,search:u}},a=(0,l.iH)(t()),r=()=>{a.value=t()};return(0,l.bv)(()=>{e&&(e.addEventListener("popstate",r),e.addEventListener("hashchange",r))}),(0,l.SK)(()=>{e&&(e.removeEventListener("popstate",r),e.removeEventListener("hashchange",r))}),a}(),c=(0,l.Fl)(()=>e.href?"a":"span"),d=(0,l.Fl)(()=>u.value.href===e.href?"location":null);return()=>{let{value:a}=o;return(0,l.h)("li",{class:[`${a}-breadcrumb-item`,e.clickable&&`${a}-breadcrumb-item--clickable`]},(0,l.h)(c.value,{class:`${a}-breadcrumb-item__link`,"aria-current":d.value,href:e.href,onClick:e.onClick},t),(0,l.h)("span",{class:`${a}-breadcrumb-item__separator`,"aria-hidden":"true"},(0,r.gI)(t.separator,()=>{var t;return[null!=(t=e.separator)?t:n.value]})))}}})},50144:function(e,t,a){a.d(t,{Z:()=>u});var l=a(58786),r=a(56946),i=a(54470),s=a(49942),n=a(44108);let o=Object.assign(Object.assign({},s.Kd),r.Z.props),u=(0,l.aZ)({name:"Tooltip",props:o,slots:Object,__popover__:!0,setup(e){let{mergedClsPrefixRef:t}=(0,i.ZP)(e),a=(0,r.Z)("Tooltip","-tooltip",void 0,n.Z,e,t),s=(0,l.iH)(null);return Object.assign(Object.assign({},{syncPosition(){s.value.syncPosition()},setShow(e){s.value.setShow(e)}}),{popoverRef:s,mergedTheme:a,popoverThemeOverrides:(0,l.Fl)(()=>a.value.self)})},render(){let{mergedTheme:e,internalExtraClass:t}=this;return(0,l.h)(s.ZP,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}})},84075:function(e,t,a){a.d(t,{WH:()=>n,hI:()=>s,iE:()=>d,mD:()=>c,sS:()=>u,uz:()=>v,vi:()=>m,yG:()=>p,yL:()=>o});var l=a(76882),r=a(34541);let{t:i}=l.Z.global,s=e=>r.e.get("/contact/group/list",{params:e}),n=()=>r.e.get("/contact/group/all"),o=e=>r.e.get("/contact/group/info",{params:e}),u=e=>r.e.post("/contact/group/create",e,{fetchOptions:{loading:i("contacts.group.loading.createGroup"),successMessage:!0}}),c=e=>r.e.post("/contact/group/update",e,{fetchOptions:{loading:i("contacts.group.loading.updateGroup"),successMessage:!0}}),d=e=>r.e.post("/contact/group/delete",e,{fetchOptions:{loading:i("contacts.group.loading.deleteGroup"),successMessage:!0}}),m=e=>r.e.post("/contact/group/contact_count",e),p=e=>r.e.post("/contact/group/export",e,{fetchOptions:{loading:i("contacts.group.loading.exportGroup"),successMessage:!0}}),v=e=>r.e.post("/contact/group/update",e,{fetchOptions:{loading:i("contacts.group.loading.saveSettings"),successMessage:!0}})},55855:function(e,t,a){a.d(t,{Gk:()=>n,Q5:()=>m,Xr:()=>d,ZS:()=>s,_5:()=>c,gI:()=>u,jC:()=>p,ke:()=>v,mQ:()=>o,oS:()=>f});var l=a(76882),r=a(34541);let{t:i}=l.Z.global;function s(e){return r.e.get("/batch_mail/task/list",{params:e})}function n(e){return r.e.get("/batch_mail/task/stat_chart",{params:e})}function o(e){return r.e.get("/batch_mail/task/find",{params:e})}function u(e){return r.e.post("/batch_mail/task/create",e,{fetchOptions:{loading:i("market.task.loading.creating"),successMessage:!0}})}function c(e){return r.e.post("/batch_mail/task/delete",e,{fetchOptions:{loading:i("market.task.loading.deleting"),successMessage:!0}})}function d(e){return r.e.post("/batch_mail/task/pause",e,{fetchOptions:{loading:i("market.task.loading.pausing"),successMessage:!0}})}function m(e){return r.e.post("/batch_mail/task/resume",e,{fetchOptions:{loading:i("market.task.loading.resuming"),successMessage:!0}})}function p(e){return r.e.post("/batch_mail/task/send_test",e,{fetchOptions:{loading:i("market.task.loading.sendingTest"),successMessage:!0}})}function v(e){return r.e.get("/batch_mail/tracking/mail_provider",{params:e})}function f(e){return r.e.get("/batch_mail/tracking/logs",{params:e})}},44561:function(e,t,a){a.r(t),a.d(t,{default:()=>eu});var l=a(53472),r=a(46244),i=a(17977),s=a(57869),n=a(29283),o=a(16715),u=a(2352),c=a(29875),d=a(15496),m=a(73084),p=a(6455),v=a(66236),f=a(70958),k=a(58786),b=a(94821),h=a(68271),_=a(55855),g=a(19664),w=a(8490),U=a(51169),S=a(84075),y=a(3179),x=a(46471),W=a(98003),Z=a(52495);let j={class:"pt-12px"},z={class:"flex-1"},$={class:"mt-8px text-12px text-desc"},C=`email,attributes
example1@example.com,"{""age"": ""13"", ""Gender"": ""XXX""}"
example2@example.com,"{""age"": ""45"", ""city"": ""XXX""}"
`,O=(0,k.aZ)({__name:"CreateGroup",setup(e){let{t}=(0,Z.QT)(),a=(0,k.AE)("formRef"),l=(0,k.qj)({create_type:2,name:"",file_data:"",file_type:"",description:"",status:1}),i={name:{required:!0,message:t("market.task.createGroup.validation.groupNameRequired"),trigger:["blur","input"]}},s=[{label:"Confirmed",value:1},{label:"Unconfirmed",value:0}],n=e=>{let t=new FileReader;t.onload=t=>{var a;l.file_type=e.name.substring(e.name.lastIndexOf(".")+1),l.file_data=null==(a=t.target)?void 0:a.result},e.file&&t.readAsText(e.file)},o=async()=>{await (0,W.Sv)({file_path:"./template/example_recipients.csv"})},u=async()=>{var e;if(await (null==(e=a.value)?void 0:e.validate()),(0,x.Z)(l.file_data))return h.v0.error(t("contacts.subscribers.import.validation.fileRequired")),Promise.reject()},[c,v]=(0,U.d)({onChangeState:e=>{e&&(l.name="",l.file_data="",l.file_type="")},onConfirm:async()=>{await u(),await (0,S.sS)((0,k.IU)(l));let e=v.getState();null==e||e.refresh()}});return(e,u)=>{let v=m.Z,f=p.ZP,b=w.Z,h=y.Z,_=d.ZP,g=r.Z;return(0,k.wg)(),(0,k.j4)((0,k.SU)(c),{title:(0,k.SU)(t)("market.task.createGroup.title"),width:"500"},{default:(0,k.w5)(()=>[(0,k._)("div",j,[(0,k.Wm)(g,{ref_key:"formRef",ref:a,model:(0,k.SU)(l),rules:i},{default:(0,k.w5)(()=>[(0,k.Wm)(f,{label:(0,k.SU)(t)("market.task.createGroup.groupName"),path:"name"},{default:(0,k.w5)(()=>[(0,k.Wm)(v,{value:(0,k.SU)(l).name,"onUpdate:value":u[0]||(u[0]=e=>(0,k.SU)(l).name=e),placeholder:(0,k.SU)(t)("market.task.createGroup.groupNamePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(f,{label:"Status"},{default:(0,k.w5)(()=>[(0,k.Wm)(b,{value:(0,k.SU)(l).status,"onUpdate:value":u[1]||(u[1]=e=>(0,k.SU)(l).status=e),options:s},null,8,["value"])]),_:1}),(0,k.Wm)(f,{label:(0,k.SU)(t)("market.task.createGroup.email"),path:"file_data"},{default:(0,k.w5)(()=>[(0,k._)("div",z,[(0,k.Wm)(h,{"is-upload":!1,accept:["csv"],onChange:n}),(0,k._)("div",$,[(0,k.Uk)((0,k.zw)(e.$t("contacts.subscribers.import.fileTypeHint"))+" ",1),(0,k.Wm)(_,{text:"",type:"primary",onClick:o},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.download")),1)]),_:1})])])]),_:1},8,["label"]),(0,k.Wm)(f,{label:e.$t("contacts.subscribers.import.exampleCsvLabel")},{default:(0,k.w5)(()=>[(0,k._)("pre",{class:"csv-example"},(0,k.zw)(C))]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"])}}});var P=a(41748);let E=(0,P.default)(O,[["__scopeId","data-v-49081638"]]),R={class:"flex-1"},T={class:"flex items-center"},q={class:"flex-1"},M={class:"ml-12px"},G=(0,k.aZ)({__name:"GroupSelect",props:{value:{default:()=>[]},valueModifiers:{},label:{default:()=>[]},labelModifiers:{}},emits:["update:value","update:label"],setup(e){let t=(0,k.tT)(e,"value"),a=(0,k.tT)(e,"label"),l=(0,k.iH)(!1),r=(0,k.iH)([]),i=(0,k.iH)(0),[s,n]=(0,U.d)({component:E,state:{refresh:()=>{c()}}}),o=()=>{n.open()},u=async e=>{if(a.value=e.map(e=>{let t=r.value.find(t=>t.value===e);return`${(null==t?void 0:t.label)||""}`}),0===e.length){i.value=0;return}let t=await (0,S.vi)({group_ids:e});(0,h.Kn)(t)&&(i.value=t.total)},c=async()=>{try{l.value=!0;let e=await (0,S.WH)();(0,h.Kn)(e)&&(r.value=e.list.map(e=>({label:e.name,value:e.id})))}finally{l.value=!1}};return c(),(e,a)=>{let n=w.Z,c=d.ZP,m=(0,k.up)("i18n-t");return(0,k.wg)(),(0,k.iD)("div",R,[(0,k._)("div",T,[(0,k._)("div",q,[(0,k.Wm)(n,{value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),u],options:(0,k.SU)(r),multiple:!0,filterable:!0,"max-tag-count":"responsive",loading:(0,k.SU)(l),placeholder:e.$t("market.task.edit.recipientsPlaceholder")},null,8,["value","options","loading","placeholder"])]),(0,k._)("div",M,[(0,k.Wm)(c,{text:"",type:"primary",onClick:o},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.create")),1)]),_:1})])]),(0,k.Wm)(m,{class:"mt-8px",tag:"div",scope:"global",keypath:"market.task.edit.recipientsCount"},{count:(0,k.w5)(()=>[(0,k._)("b",null,(0,k.zw)((0,k.SU)(i)),1)]),_:1}),(0,k.Wm)((0,k.SU)(s))])}}});var H=a(28444),B=a(65965);let F={class:"task-edit-container"},I={class:"flex flex-col flex-1 p-24px overflow-auto"},N={class:"flex-1"},D={class:"ml-12px text-desc"},L={class:"w-60px"},X={class:"flex-1 mr-10px"},A={class:"task-preview"},K={class:"preview-header"},Q={class:"preview-header-item"},J={class:"preview-label"},V={class:"preview-value"},Y={class:"preview-header-item"},ee={class:"preview-label"},et={class:"preview-value"},ea={class:"preview-header-item"},el={class:"preview-label"},er={class:"preview-value"},ei={class:"preview-content"},es={key:1,class:"empty-preview"},en={class:"action-buttons"},eo=(0,k.aZ)({__name:"edit",setup(e){let{t}=(0,Z.QT)(),a=(0,B.tv)(),w=(0,k.AE)("formRef"),U=(0,k.AE)("formContentRef"),{height:S}=(0,b.rBN)(U),y=(0,k.qj)({addresser:null,full_name:"",subject:"",group_ids:[],template_id:null,is_record:1,unsubscribe:1,warmup:0,threads:0,start_time:null,remark:""}),x={full_name:{trigger:["blur","input"],validator:()=>""!==y.full_name||Error(t("market.task.edit.validation.displayNameRequired"))},subject:{trigger:["blur","input"],validator:()=>""!==y.subject||Error(t("market.task.edit.validation.subjectRequired"))},group_ids:{trigger:"change",validator:()=>0!==y.group_ids.length||Error(t("market.task.edit.validation.recipientsRequired"))},template_id:{trigger:"change",validator:()=>null!==y.template_id||Error(t("market.task.edit.validation.templateRequired"))},start_time:{validator:()=>1!==z.value||null!==y.start_time||Error(t("market.task.edit.validation.sendTimeRequired"))}},W=(0,k.iH)([]),j=(0,k.iH)(0),z=(0,k.iH)(0),$=(0,k.iH)(""),C=(0,k.iH)(""),O=()=>{a.push("/market/template")},P=e=>{0===e?y.threads=0:y.threads=5},E=()=>{0===z.value&&(y.start_time=null)},R=async()=>$.value?y.subject?y.template_id?void await (0,_.jC)({addresser:y.addresser||"",subject:y.subject,recipient:$.value,template_id:y.template_id||0}):void h.v0.error(t("market.task.edit.validation.templateRequired")):void h.v0.error(t("market.task.edit.validation.subjectRequired")):void h.v0.error(t("market.task.edit.validation.testEmailRequired")),T=()=>{y.subject||y.group_ids.length>0?(0,h.iG)({title:t("market.task.edit.discard.title"),content:t("market.task.edit.discard.content"),onConfirm:()=>{a.go(-1)}}):a.go(-1)},q=()=>{let e=y.start_time;return(0===z.value||null===e)&&(e=Date.now()),{track_open:1,track_click:1,addresser:y.addresser||"",full_name:y.full_name,subject:y.subject,group_ids:y.group_ids,template_id:y.template_id||0,is_record:y.is_record,unsubscribe:y.unsubscribe,warmup:y.warmup,threads:y.threads,start_time:e/1e3,remark:y.remark}},M=async()=>{var e;await (null==(e=w.value)?void 0:e.validate()),await (0,_.gI)(q()),a.push("/market/task")};return(e,a)=>{let b=(0,k.up)("router-link"),h=f.Z,_=v.ZP,Z=p.ZP,q=m.Z,B=d.ZP,eo=c.Z,eu=u.Z,ec=o.Z,ed=n.Z,em=s.ZP,ep=i.Z,ev=r.Z,ef=l.Z;return(0,k.wg)(),(0,k.iD)("div",F,[(0,k._)("div",I,[(0,k.Wm)(_,{class:"mb-20px"},{default:(0,k.w5)(()=>[(0,k.Wm)(h,null,{default:(0,k.w5)(()=>[(0,k.Wm)(b,{to:"/market/task"},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.title")),1)]),_:1})]),_:1}),(0,k.Wm)(h,null,{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.addTitle")),1)]),_:1})]),_:1}),(0,k._)("div",{class:"task-edit-box",style:(0,k.j5)({minHeight:(0,k.SU)(S)+"px"})},[(0,k.Wm)(ev,{ref_key:"formRef",ref:w,class:"task-edit-form",model:(0,k.SU)(y),rules:x},{default:(0,k.w5)(()=>[(0,k._)("div",{ref_key:"formContentRef",ref:U},[(0,k.Wm)(em,{class:"mb-24px"},{default:(0,k.w5)(()=>[(0,k.Wm)(Z,{label:e.$t("market.task.edit.from")},{default:(0,k.w5)(()=>[(0,k.Wm)(g.Z,{value:(0,k.SU)(y).addresser,"onUpdate:value":a[0]||(a[0]=e=>(0,k.SU)(y).addresser=e),name:(0,k.SU)(y).full_name,"onUpdate:name":a[1]||(a[1]=e=>(0,k.SU)(y).full_name=e)},null,8,["value","name"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.displayName"),path:"full_name"},{default:(0,k.w5)(()=>[(0,k.Wm)(q,{value:(0,k.SU)(y).full_name,"onUpdate:value":a[2]||(a[2]=e=>(0,k.SU)(y).full_name=e),placeholder:e.$t("market.task.edit.displayNamePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.subject"),path:"subject"},{default:(0,k.w5)(()=>[(0,k.Wm)(q,{value:(0,k.SU)(y).subject,"onUpdate:value":a[3]||(a[3]=e=>(0,k.SU)(y).subject=e),placeholder:e.$t("market.task.edit.subjectPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.recipients"),type:"group_ids"},{default:(0,k.w5)(()=>[(0,k.Wm)(G,{value:(0,k.SU)(y).group_ids,"onUpdate:value":a[4]||(a[4]=e=>(0,k.SU)(y).group_ids=e),label:(0,k.SU)(W),"onUpdate:label":a[5]||(a[5]=e=>(0,k.dq)(W)?W.value=e:null)},null,8,["value","label"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.template"),path:"template_id"},{default:(0,k.w5)(()=>[(0,k._)("div",N,[(0,k.Wm)(H.Z,{value:(0,k.SU)(y).template_id,"onUpdate:value":a[6]||(a[6]=e=>(0,k.SU)(y).template_id=e),content:(0,k.SU)(C),"onUpdate:content":a[7]||(a[7]=e=>(0,k.dq)(C)?C.value=e:null)},null,8,["value","content"])]),(0,k.Wm)(B,{text:"",type:"primary",class:"ml-12px",onClick:O},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)((0,k.SU)(t)("common.actions.create")),1)]),_:1})]),_:1},8,["label"]),(0,k.kq)("",!0),(0,k.Wm)(Z,{label:(0,k.SU)(t)("market.task.edit.ipWarmup")},{default:(0,k.w5)(()=>[(0,k.Wm)(eo,{value:(0,k.SU)(y).warmup,"onUpdate:value":a[9]||(a[9]=e=>(0,k.SU)(y).warmup=e),"checked-value":1,"unchecked-value":0},null,8,["value"]),(0,k._)("span",D,(0,k.zw)((0,k.SU)(t)("market.task.edit.ipWarmupTip")),1)]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.unsubscribeLink")},{default:(0,k.w5)(()=>[(0,k.Wm)(eo,{value:(0,k.SU)(y).unsubscribe,"onUpdate:value":a[10]||(a[10]=e=>(0,k.SU)(y).unsubscribe=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.threads"),"show-feedback":!1},{default:(0,k.w5)(()=>[(0,k.Wm)(ec,{value:(0,k.SU)(j),"onUpdate:value":[a[11]||(a[11]=e=>(0,k.dq)(j)?j.value=e:null),P]},{default:(0,k.w5)(()=>[(0,k.Wm)(eu,{value:0},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.threadsAuto")),1)]),_:1}),(0,k.Wm)(eu,{value:1},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.threadsCustom")),1)]),_:1})]),_:1},8,["value"]),(0,k.wy)((0,k._)("div",L,[(0,k.Wm)(ed,{value:(0,k.SU)(y).threads,"onUpdate:value":a[12]||(a[12]=e=>(0,k.SU)(y).threads=e),min:1,max:100,"show-button":!1},null,8,["value"])],512),[[k.F8,1===(0,k.SU)(j)]])]),_:1},8,["label"])]),_:1}),(0,k.Wm)(em,null,{default:(0,k.w5)(()=>[(0,k.Wm)(Z,{label:(0,k.SU)(t)("market.task.edit.sendTime"),path:"start_time"},{default:(0,k.w5)(()=>[(0,k.Wm)(ec,{value:(0,k.SU)(z),"onUpdate:value":[a[14]||(a[14]=e=>(0,k.dq)(z)?z.value=e:null),E],class:"flex items-center"},{default:(0,k.w5)(()=>[(0,k.Wm)(eu,{value:0},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)((0,k.SU)(t)("market.task.edit.sendTimeNow")),1)]),_:1}),(0,k.Wm)(eu,{class:"items-center",value:1}),(0,k.Wm)(ep,{value:(0,k.SU)(y).start_time,"onUpdate:value":a[13]||(a[13]=e=>(0,k.SU)(y).start_time=e),class:"ml-8px",type:"datetime",disabled:0===(0,k.SU)(z)},null,8,["value","disabled"])]),_:1},8,["value"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.remark")},{default:(0,k.w5)(()=>[(0,k.Wm)(q,{value:(0,k.SU)(y).remark,"onUpdate:value":a[15]||(a[15]=e=>(0,k.SU)(y).remark=e),placeholder:e.$t("market.task.edit.remarkPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(Z,{label:e.$t("market.task.edit.testEmail"),"show-feedback":!1},{default:(0,k.w5)(()=>[(0,k._)("div",X,[(0,k.Wm)(q,{value:(0,k.SU)($),"onUpdate:value":a[16]||(a[16]=e=>(0,k.dq)($)?$.value=e:null),placeholder:e.$t("market.task.edit.testEmailPlaceholder")},null,8,["value","placeholder"])]),(0,k.Wm)(B,{onClick:R},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.sendTest")),1)]),_:1})]),_:1},8,["label"])]),_:1})],512)]),_:1},8,["model"]),(0,k._)("div",A,[(0,k.Wm)(em,{class:"h-full","content-style":{display:"flex",flexDirection:"column",height:"100%"}},{default:(0,k.w5)(()=>[(0,k._)("div",K,[(0,k._)("div",Q,[(0,k._)("div",J,(0,k.zw)((0,k.SU)(t)("market.task.edit.from"))+":",1),(0,k._)("div",V,(0,k.zw)((0,k.SU)(y).addresser),1)]),(0,k._)("div",Y,[(0,k._)("div",ee,(0,k.zw)((0,k.SU)(t)("market.task.edit.to"))+":",1),(0,k._)("div",et,(0,k.zw)((0,k.SU)(W).length>0?(0,k.SU)(W).join(", "):"--"),1)]),(0,k._)("div",ea,[(0,k._)("div",el,(0,k.zw)((0,k.SU)(t)("market.task.edit.subject"))+":",1),(0,k._)("div",er,(0,k.zw)((0,k.SU)(y).subject||"--"),1)])]),(0,k._)("div",ei,[(0,k.SU)(C)?((0,k.wg)(),(0,k.j4)(ef,{key:0,value:(0,k.SU)(C)},null,8,["value"])):((0,k.wg)(),(0,k.iD)("div",es,(0,k.zw)((0,k.SU)(t)("market.task.edit.preview.empty")),1))])]),_:1})])],4)]),(0,k._)("div",en,[(0,k.Wm)(B,{type:"primary",onClick:M},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.confirm")),1)]),_:1}),(0,k.Wm)(B,{class:"ml-16px",secondary:"",onClick:T},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.back")),1)]),_:1})])])}}}),eu=(0,P.default)(eo,[["__scopeId","data-v-473b9316"]])}}]);