"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["17"],{7070:function(e,l,t){e.exports=t.p+"static/image/logo.3b07dac3.png"},3467:function(e,l,t){t.d(l,{dS:()=>d,gn:()=>n,kO:()=>s,nT:()=>u,qM:()=>o});var i=t(4203);let{t:a}=t(4958).Z.global,n=()=>i.e.get("/settings/get_version"),o=()=>i.e.get("/docker_api/list"),s=e=>i.e.post("/docker_api/restart",e,{fetchOptions:{loading:a("settings.api.loading.restarting"),successMessage:!0}}),d=e=>i.e.post("/services/get_config",e),u=e=>i.e.post("/services/save_config",e,{fetchOptions:{loading:a("settings.api.loading.saving"),successMessage:!0}})},2396:function(e,l,t){t.r(l),t.d(l,{default:()=>j});var i=t(7610),a=t(209),n=t(233),o=t(9053),s=t(7070),d=t(808),u=t(5e3),r=t(8124),c=t(6165),p=t(5778);let m={href:"/"},g={class:"app-name"},v={class:"nav-section"},f={class:"footer-section"},_=(0,a.aZ)({__name:"Sidebar",setup(e){let{t:l}=(0,p.QT)(),t=(0,u.yj)(),i=(0,r.Ls)(),_=(0,r.LM)(),w=(0,r.s6)(),{isCollapse:h}=(0,d.Jk)(w),S=(0,a.Fl)(()=>{var e;return String((null===(e=t.meta)||void 0===e?void 0:e.key)||"")}),b=(0,a.Fl)(()=>i.menuList.filter(e=>e.meta&&!e.meta.hidden)),k=(0,a.Fl)(()=>b.value.map(e=>{var t,i,a,n,o;let s=String((null===(i=e.children)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.name)||""),d=String((null===(a=e.meta)||void 0===a?void 0:a.key)||""),u=String((null===(n=e.meta)||void 0===n?void 0:n.titleKey)||""),r=u?l(u):String((null===(o=e.meta)||void 0===o?void 0:o.title)||"");return{key:d,label:()=>W(s,r),icon:()=>x(d)}})),y=(0,a.iH)([{key:"logout",label:()=>(0,a.Wm)("span",{class:"ml-10px"},[l("layout.menu.logout")]),icon:()=>x("logout")}]),W=(e,l)=>(0,a.Wm)(u.rH,{class:"flex items-center",to:{name:e}},{default:()=>[(0,a.Wm)("span",null,[l])]}),U={overview:(0,a.Wm)("i",{class:"i-mdi-web"},null),market:(0,a.Wm)("i",{class:"i-mdi-email-fast-outline"},null),contacts:(0,a.Wm)("i",{class:"i-mdi-user-multiple-outline"},null),domain:(0,a.Wm)("i",{class:"i-mdi-web"},null),mailbox:(0,a.Wm)("i",{class:"i-mdi-email"},null),smtp:(0,a.Wm)("i",{class:"i-mdi-settings-outline"},null),settings:(0,a.Wm)("i",{class:"i-mdi-settings-outline"},null),logout:(0,a.Wm)("i",{class:"i-mdi-logout"},null)},x=e=>U[e],Z=e=>{if("logout"===e&&_.logout(),"webmail"===e){let e=b.value.find(e=>{var l;return(null===(l=e.meta)||void 0===l?void 0:l.key)==="webmail"});if(e){var l;let t=String(null===(l=e.meta)||void 0===l?void 0:l.href);window.open(t)}}};return(0,a.bv)(()=>{i.setMenuList(c.sh)}),(e,l)=>{let t=o.Z,i=n.Z;return(0,a.wg)(),(0,a.j4)(i,{"collapse-mode":"width",collapsed:(0,a.SU)(h),width:200,"collapsed-width":64,"content-style":{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}},{default:(0,a.w5)(()=>[(0,a._)("div",{class:(0,a.C_)(["app-logo",{collapse:(0,a.SU)(h)}])},[(0,a._)("a",m,[l[0]||(l[0]=(0,a._)("img",{class:"icon",src:s},null,-1)),(0,a.wy)((0,a._)("span",g,"BillionMail",512),[[a.F8,!(0,a.SU)(h)]])])],2),(0,a._)("div",v,[(0,a.Wm)(t,{value:(0,a.SU)(S),collapsed:(0,a.SU)(h),"collapsed-width":64,options:(0,a.SU)(k),"root-indent":24,"onUpdate:value":Z},null,8,["value","collapsed","options"])]),(0,a._)("div",f,[(0,a.Wm)(t,{value:"",collapsed:(0,a.SU)(h),"collapsed-width":64,options:(0,a.SU)(y),"root-indent":24,"onUpdate:value":Z},null,8,["collapsed","options"])])]),_:1},8,["collapsed"])}}});var w=t(5115);let h=(0,w.default)(_,[["__scopeId","data-v-f2b45782"]]),S=(0,a.aZ)({__name:"AppMain",setup(e){let l=(0,a.Fl)(()=>Math.random());return(e,t)=>{let i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(i,{key:(0,a.SU)(l)},{default:(0,a.w5)(e=>{let{Component:l,route:t}=e;return[((0,a.wg)(),(0,a.j4)((0,a.LL)(l),{key:t.path}))]}),_:1})}}});var b=t(7768),k=t(1211),y=t(3447),W=t(3467),U=t(2965);let x={class:"header-left"},Z={class:"header-right"},M=(0,a.aZ)({__name:"AppHeader",props:{top:{type:Number,default:0}},setup(e){let{t:l}=(0,p.QT)(),t=(0,a.iH)("--"),i=(0,r.LM)(),n=(0,r.s6)(),{isCollapse:o,langList:s}=(0,d.Jk)(n),u=(0,r.fl)(),{theme:c}=(0,d.Jk)(u),m=()=>{n.setCollapse()},g=(0,a.iH)([]),v=(0,a.iH)([{label:l("layout.menu.logout"),key:"logout"}]),f=()=>{u.setTheme("dark"===c.value?"light":"dark")},_=async e=>{await n.setLang(e),window.location.reload()},w=e=>{"logout"===e&&i.logout()},h=()=>{window.open("https://github.com/aaPanel/BillionMail/releases")},S=async()=>{g.value=s.value.map(e=>({label:e.cn,key:e.name}))},M=async()=>{let e=await (0,W.gn)();(0,U.Kn)(e)&&(t.value=`v${e.version}`)};return(0,a.bv)(()=>{M(),S()}),(l,i)=>{let n=y.ZP,s=k.Z,d=b.Z;return(0,a.wg)(),(0,a.j4)(d,{ref:"headerRef",style:(0,a.j5)({top:`${e.top}px`})},{default:(0,a.w5)(()=>[(0,a._)("div",x,[(0,a.Wm)(n,{class:"icon-btn",bordered:!1,onClick:m},{default:(0,a.w5)(()=>[(0,a._)("i",{class:(0,a.C_)(["icon",(0,a.SU)(o)?"i-mdi-menu-close":"i-mdi-menu-open"])},null,2)]),_:1})]),(0,a._)("div",Z,[(0,a.Wm)(n,{class:"icon-btn",bordered:!1,onClick:f},{default:(0,a.w5)(()=>[(0,a._)("i",{class:(0,a.C_)(["icon","light"===(0,a.SU)(c)?"i-ri-sun-line":"i-ri-moon-line"])},null,2)]),_:1}),(0,a.SU)(g).length>0?((0,a.wg)(),(0,a.j4)(s,{key:0,options:(0,a.SU)(g),onSelect:_},{default:(0,a.w5)(()=>[(0,a.Wm)(n,{class:"icon-btn",bordered:!1},{default:(0,a.w5)(()=>i[0]||(i[0]=[(0,a._)("i",{class:"icon i-mdi-language text-20px"},null,-1)])),_:1})]),_:1},8,["options"])):(0,a.kq)("",!0),(0,a.Wm)(s,{options:(0,a.SU)(v),onSelect:w},{default:(0,a.w5)(()=>[(0,a.Wm)(n,{class:"icon-btn",bordered:!1},{default:(0,a.w5)(()=>i[1]||(i[1]=[(0,a._)("i",{class:"icon i-mdi-user-outline"},null,-1)])),_:1})]),_:1},8,["options"]),(0,a.Wm)(n,{type:"primary",text:"",class:"text-14px",onClick:h},{default:(0,a.w5)(()=>[(0,a.Uk)((0,a.zw)((0,a.SU)(t)),1)]),_:1})])]),_:1},8,["style"])}}}),C=(0,w.default)(M,[["__scopeId","data-v-4c10844c"]]),j=(0,a.aZ)({__name:"index",setup(e){let l=(0,a.iH)(0),t=e=>{l.value=e.target.scrollTop||0};return(e,n)=>{let o=i.ZP;return(0,a.wg)(),(0,a.j4)(o,{class:"w-full h-full","has-sider":""},{default:(0,a.w5)(()=>[(0,a.Wm)((0,a.SU)(h)),(0,a.Wm)(o,{"content-style":{position:"relative",paddingTop:"48px"},onScroll:t},{default:(0,a.w5)(()=>[(0,a.Wm)((0,a.SU)(C),{top:(0,a.SU)(l)},null,8,["top"]),(0,a.Wm)((0,a.SU)(S))]),_:1})]),_:1})}}})}}]);