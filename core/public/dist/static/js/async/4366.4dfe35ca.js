"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["4366"],{3449:function(e,t,l){l.d(t,{Z:()=>n});var a=l(33),s=l(43407),i=l(25595);let n=e=>{let{fetchFn:t,params:l,loading:n=!1,immediate:o=!1}=e,r=(0,i.iH)(n),c=(0,i.iH)([]),d=(0,i.iH)(0),u=(0,i.iH)(l),p=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(l.page=1),t){r.value=!0;try{let e=await t(u.value);(0,s.Kn)(e)&&(c.value=(0,s.kJ)(e.list)?e.list:[],d.value=(0,a.Z)(e.total)?e.total:0)}finally{r.value=!1}}};return o&&p(),{loading:r,tableList:c,tableTotal:d,tableParams:u,getTableData:p}}},16821:function(e,t,l){l.d(t,{d:()=>n});var a=l(25595),s=l(30295);let i=Symbol("MODAL_INJECT"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:l,onCancel:n,onConfirm:o}=e,r=(0,a.qj)({});return l?[(0,a.aZ)({setup(s,n){let{attrs:o,slots:c}=n;return(0,a.JJ)(i,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(r,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,a.h)(l,{...s,...o},c)}}),r]:[(0,a.aZ)({setup(t,l){let{attrs:c,slots:d}=l,u=(0,a.f3)(i),p=(0,a.iH)(!1);return r.open=()=>{var t;p.value=!0,null==(t=e.onChangeState)||t.call(e,p.value)},r.close=()=>{p.value=!1},r.setState=t=>{var l;null==u||u.setState(t),null==(l=e.onChangeState)||l.call(e,p.value)},r.getState=()=>(null==u?void 0:u.state)??{},null==u||u.extendApi(r),()=>(0,a.Wm)(s.Z,(0,a.dG)({show:p.value},t,c,{onCancel:n,onConfirm:o,"onUpdate:show":e=>{p.value=e??!1}}),d)}}),r]}},22851:function(e,t,l){l.d(t,{Z:()=>o});var a=l(69820),s=l(99833),i=l(25595);let n={class:"leading-22px text-13px text-desc text-center"},o=(0,i.aZ)({__name:"index",setup(e){let t=()=>{window.open("https://github.com/aaPanel/BillionMail/issues")},l=()=>{window.open("https://github.com/aaPanel/BillionMail")};return(e,o)=>{let r=s.ZP,c=(0,i.up)("i18n-t"),d=a.Z;return(0,i.wg)(),(0,i.j4)(d,null,{default:(0,i.w5)(()=>[(0,i._)("div",n,[(0,i.Wm)(c,{tag:"span",scope:"global",keypath:"components.tableHelp.text1"},{issues:(0,i.w5)(()=>[(0,i.Wm)(r,{class:"text-13px",type:"primary",text:"",onClick:t},{default:(0,i.w5)(()=>o[0]||(o[0]=[(0,i._)("span",null,"Issues",-1),(0,i._)("i",{class:"i-mdi:arrow-right ml-1px"},null,-1)])),_:1,__:[0]})]),star:(0,i.w5)(()=>[(0,i.Wm)(r,{class:"text-13px",type:"primary",text:"",onClick:l},{default:(0,i.w5)(()=>o[1]||(o[1]=[(0,i.Uk)(" Star "),(0,i._)("i",{class:"i-mdi:arrow-right ml-1px"},null,-1)])),_:1,__:[1]})]),_:1}),o[2]||(o[2]=(0,i._)("br",null,null,-1)),(0,i._)("span",null,(0,i.zw)(e.$t("components.tableHelp.text2")),1)])]),_:1})}}})},25322:function(e,t,l){l.d(t,{Z:()=>i});var a=l(44971),s=l(25595);let i=(0,s.aZ)({__name:"index",setup(e){let t=!!(0,s.Rr)().toolsLeft,l=!!(0,s.Rr)().toolsRight,i=!!(0,s.Rr)().pageLeft||!!(0,s.Rr)().pageRight;return(e,n)=>{let o=a.Z;return(0,s.wg)(),(0,s.iD)("div",null,[t||l?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"items-center mb-12px",justify:"space-between"},{default:(0,s.w5)(()=>[(0,s.Wm)(o,{class:"items-center",size:12},{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"toolsLeft")]),_:3}),(0,s.Wm)(o,{class:"items-center",size:12},{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"toolsRight")]),_:3})]),_:3})):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"table"),(0,s.SU)(i)?((0,s.wg)(),(0,s.j4)(o,{key:1,class:"items-center mt-12px",justify:"space-between"},{default:(0,s.w5)(()=>[(0,s._)("div",null,[(0,s.WI)(e.$slots,"pageLeft")]),(0,s.Wm)(o,null,{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"pageRight")]),_:3})]),_:3})):(0,s.kq)("",!0),(0,s.WI)(e.$slots,"modal")])}}})},21921:function(e,t,l){l.d(t,{Z:()=>i});var a=l(72281),s=l(25595);let i=(0,s.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:l}=t,i=(0,s.iH)(null);return l({validate:()=>{var e;return null==(e=i.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=i.value)?void 0:e.restoreValidation()}}),(e,t)=>{let l=a.Z;return(0,s.wg)(),(0,s.j4)(l,(0,s.dG)(e.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},80837:function(e,t,l){l.d(t,{Z:()=>o});var a=l(51559),s=l(25595),i=l(43407);let n={class:"ml-8px text-14px"},o=(0,s.aZ)({__name:"index",props:(0,s.Vf)({storeKey:{default:""},pageSizes:{default:()=>[10,20,50,100]},showTotal:{type:Boolean,default:!0},showSizePicker:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!0},onUpdatePage:{}},{page:{},pageModifiers:{},pageSize:{},pageSizeModifiers:{}}),emits:(0,s.Vf)(["refresh"],["update:page","update:pageSize"]),setup(e,t){let{emit:l}=t,o=(0,s.Fl)(()=>{let{storeKey:t}=e;return t?`${t}-page`:""}),r=(0,s.tT)(e,"page"),c=(0,s.tT)(e,"pageSize"),d=t=>{var a;null==(a=e.onUpdatePage)||a.call(e,t),l("refresh")},u=t=>{var a;r.value=1,null==(a=e.onUpdatePage)||a.call(e,1),p(t),l("refresh")},p=e=>{o.value&&(0,i.qQ)(o.value,String(e))};if(o.value){let e=(0,i.$o)(o.value);e&&(c.value=(0,i.Dx)(e))}return(e,t)=>{let l=a.Z;return(0,s.wg)(),(0,s.j4)(l,(0,s.dG)(e.$attrs,{page:r.value,"onUpdate:page":[t[0]||(t[0]=e=>r.value=e),d],"page-size":c.value,"onUpdate:pageSize":[t[1]||(t[1]=e=>c.value=e),u],"show-size-picker":e.showSizePicker,"show-quick-jumper":e.showQuickJumper,"page-sizes":e.pageSizes,"display-order":["pages","size-picker","quick-jumper"]}),(0,s.Nv)({_:2},[e.showTotal?{name:"suffix",fn:(0,s.w5)(e=>{let{itemCount:t}=e;return[(0,s._)("span",n," Total "+(0,s.zw)(t),1)]}),key:"0"}:void 0]),1040,["page","page-size","show-size-picker","show-quick-jumper","page-sizes"])}}})},79732:function(e,t,l){l.r(t),l.d(t,{default:()=>Z});var a=l(25322),s=l(80837),i=l(19232),n=l(22851),o=l(25595),r=l(44971),c=l(99833),d=l(43407),u=l(3449),p=l(16821),g=l(86244);let{t:m}=l(77527).Z.global,f=e=>g.e.get("/mail_bcc/list",{params:e}),v=e=>g.e.post("/mail_bcc/add",e,{fetchOptions:{loading:m("settings.bcc.loading.adding"),successMessage:!0}}),w=e=>g.e.post("/mail_bcc/edit",e,{fetchOptions:{loading:m("settings.bcc.loading.saving"),successMessage:!0}}),b=e=>g.e.post("/mail_bcc/delete",e,{fetchOptions:{loading:m("settings.bcc.loading.deleting"),successMessage:!0}});var h=l(21921),y=l(29403),S=l(46126),_=l(34909),U=l(85068),k=l(23865);let x=(0,o.aZ)({__name:"BccForm",setup(e){let{t}=(0,k.QT)(),l=(0,o.iH)(!1),a=(0,o.Fl)(()=>l.value?t("settings.bcc.edit"):t("settings.bcc.add")),s=(0,o.AE)("formRef"),i=(0,o.iH)(0),n=(0,o.qj)({address:"",goto:"",type:"sender",active:1}),r=(0,o.Fl)(()=>[{label:t("settings.bcc.types.sender"),value:"sender"},{label:t("settings.bcc.types.recipient"),value:"recipient"}]),c={},[d,u]=(0,p.d)({onChangeState:e=>{if(e){let e=u.getState(),{row:t}=e;l.value=e.isEdit,t&&(i.value=t.id,n.address=t.address,n.goto=t.goto,n.type=t.type,n.active=t.active)}else i.value=0,n.address="",n.goto="",n.type="sender",n.active=1},onConfirm:async()=>{var e;await (null==(e=s.value)?void 0:e.validate()),l.value?await w({id:i.value,...(0,o.IU)(n)}):await v((0,o.IU)(n)),u.getState().refresh()}});return(e,i)=>{let u=U.Z,p=_.ZP,g=S.Z,m=y.Z,f=h.Z;return(0,o.wg)(),(0,o.j4)((0,o.SU)(d),{title:(0,o.SU)(a),width:"500"},{default:(0,o.w5)(()=>[(0,o.Wm)(f,{ref_key:"formRef",ref:s,class:"pt-8px",model:(0,o.SU)(n),rules:c},{default:(0,o.w5)(()=>[(0,o.Wm)(p,{label:(0,o.SU)(t)("settings.bcc.needCopy"),path:"user"},{default:(0,o.w5)(()=>[(0,o.Wm)(u,{value:(0,o.SU)(n).address,"onUpdate:value":i[0]||(i[0]=e=>(0,o.SU)(n).address=e),disabled:(0,o.SU)(l),placeholder:(0,o.SU)(t)("settings.bcc.placeholders.needCopy")},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:(0,o.SU)(t)("settings.bcc.copyTo"),path:"forward_user"},{default:(0,o.w5)(()=>[(0,o.Wm)(u,{value:(0,o.SU)(n).goto,"onUpdate:value":i[1]||(i[1]=e=>(0,o.SU)(n).goto=e),placeholder:(0,o.SU)(t)("settings.bcc.placeholders.copyTo")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:(0,o.SU)(t)("settings.bcc.type"),path:"type"},{default:(0,o.w5)(()=>[(0,o.Wm)(g,{value:(0,o.SU)(n).type,"onUpdate:value":i[2]||(i[2]=e=>(0,o.SU)(n).type=e),options:(0,o.SU)(r)},null,8,["value","options"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:(0,o.SU)(t)("settings.bcc.status"),"show-feedback":!1},{default:(0,o.w5)(()=>[(0,o.Wm)(m,{value:(0,o.SU)(n).active,"onUpdate:value":i[3]||(i[3]=e=>(0,o.SU)(n).active=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title"])}}});function W(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}let Z=(0,o.aZ)({__name:"index",setup(e){let{t}=(0,k.QT)(),{tableParams:l,tableList:g,loading:m,tableTotal:v,getTableData:w}=(0,u.Z)({loading:!0,immediate:!0,params:{page:1,page_size:10,domain:"",keyword:""},fetchFn:f}),h=(0,o.iH)([{key:"address",title:()=>t("settings.bcc.needCopy"),ellipsis:{tooltip:!0}},{key:"goto",title:()=>t("settings.bcc.copyTo"),ellipsis:{tooltip:!0}},{key:"domain",title:()=>t("settings.bcc.domain"),ellipsis:{tooltip:!0}},{key:"type",title:()=>t("settings.bcc.type"),render:e=>t(`settings.bcc.types.${e.type}`)},{key:"active",title:()=>t("settings.bcc.status"),render:e=>(0,o.Wm)("div",{class:["text-16px",1===e.active?"text-primary":"text-error"]},[(0,o.Wm)("i",{class:[1===e.active?"i-mdi-success-circle":"i-mdi-remove-circle"]},null)])},{title:t("common.columns.actions"),key:"actions",align:"right",width:120,render:e=>{let l,a;return(0,o.Wm)(r.Z,{inline:!0},{default:()=>[(0,o.Wm)(c.ZP,{type:"primary",text:!0,onClick:()=>{Z(e)}},W(l=t("common.actions.edit"))?l:{default:()=>[l]}),(0,o.Wm)(c.ZP,{type:"error",text:!0,onClick:()=>{z(e)}},W(a=t("common.actions.delete"))?a:{default:()=>[a]})]})}}]),[y,S]=(0,p.d)({component:x,state:{isEdit:!1,refresh:w}}),_=()=>{S.setState({isEdit:!1,row:null}),S.open()},U=()=>{w(!0)},Z=e=>{S.setState({isEdit:!0,row:e}),S.open()},z=e=>{(0,d.iG)({title:t("settings.bcc.delete.title",{address:e.address}),content:t("settings.bcc.delete.content"),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{await b({id:e.id}),w()}})};return(e,t)=>{let r=n.Z,d=i.Z,u=s.Z,p=a.Z;return(0,o.wg)(),(0,o.j4)(p,null,{toolsLeft:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(c.ZP),{type:"primary",onClick:_},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("settings.bcc.add")),1)]),_:1})]),toolsRight:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(c.ZP),{onClick:U},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("common.actions.refresh")),1)]),_:1})]),table:(0,o.w5)(()=>[(0,o.Wm)(d,{loading:(0,o.SU)(m),columns:(0,o.SU)(h),data:(0,o.SU)(g)},{empty:(0,o.w5)(()=>[(0,o.Wm)(r)]),_:1},8,["loading","columns","data"])]),pageRight:(0,o.w5)(()=>[(0,o.Wm)(u,{page:(0,o.SU)(l).page,"onUpdate:page":t[0]||(t[0]=e=>(0,o.SU)(l).page=e),"page-size":(0,o.SU)(l).page_size,"onUpdate:pageSize":t[1]||(t[1]=e=>(0,o.SU)(l).page_size=e),"item-count":(0,o.SU)(v),onRefresh:(0,o.SU)(w)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(y))]),_:1})}}})}}]);