"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["2751"],{89291:function(a,t,e){e.r(t),e.d(t,{default:()=>y});var l=e(73084),i=e(15496),s=e(57869),n=e(58786),c=e(34541),u=e(16634),o=e(42205);async function p(a){let{sitemap:t,hasGotSitemap:e}=(0,o.J)();if(!e.value)try{let l=await c.e.post("/askai/project/get_sitemap",{domain:a});t.value=0==l.length?[{title:"",uri_path:""}]:l.map(a=>(a.isSaved=!0,a)),e.value=!0}catch(a){console.warn(a)}}async function r(a,t,e){try{await c.e.post("/askai/project/add_sitemap_node",{domain:a,title:t,uri_path:e},u.uL)}catch(a){console.warn(a)}}async function _(a,t){try{await c.e.post("/askai/project/remove_sitemap_node",{domain:a,uri_path:t},u.uL)}catch(a){console.warn(a)}}var d=e(65965);let v={class:"content-wrapper"},m={class:"mb-5"},f={class:"inline-form-items"},h=["onClick"],w=["onClick"],k=(0,n.aZ)({__name:"Sitemap",setup(a){let{sitemap:t}=(0,o.J)(),e=(0,d.yj)().params.domain;async function c(a,l){await r(e,a.title,a.uri_path),t.value[l].isSaved=!0}async function u(a,l){a.title&&a.uri_path&&await _(e,a.uri_path),t.value.splice(l,1)}function k(){t.value.push({title:"",uri_path:""})}return p(e),(a,e)=>{let o=s.ZP,p=i.ZP,r=l.Z;return(0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)(o,{class:"mb-5"},{default:(0,n.w5)(()=>e[0]||(e[0]=[(0,n._)("div",{class:"page-tit"},[(0,n._)("div",{class:"left-tit"},[(0,n._)("div",{class:"back-tool"},[(0,n._)("i",{class:"i-ri:apps-fill text-6"})]),(0,n._)("span",{class:"tit-content"}," Sitemap ")])],-1)])),_:1,__:[0]}),(0,n.Wm)(o,null,{default:(0,n.w5)(()=>[(0,n._)("div",m,[(0,n.Wm)(p,{type:"primary",onClick:k},{default:(0,n.w5)(()=>e[1]||(e[1]=[(0,n.Uk)("Add link")])),_:1,__:[1]})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,n.SU)(t),(a,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"mb-2.5"},[(0,n._)("div",f,[(0,n.Wm)(r,{value:a.title,"onUpdate:value":t=>a.title=t,class:"name"},null,8,["value","onUpdate:value"]),(0,n.Wm)(r,{value:a.uri_path,"onUpdate:value":t=>a.uri_path=t,class:"url"},null,8,["value","onUpdate:value"]),(0,n._)("div",{class:"operation close",onClick:e=>u(a,t)},e[2]||(e[2]=[(0,n._)("i",{class:"i-material-symbols:close-rounded text-5"},null,-1)]),8,h),(0,n._)("div",{class:(0,n.C_)(["operation",{save:a.title&&a.uri_path},{disabled:!a.title||!a.uri_path}]),onClick:e=>c(a,t)},e[3]||(e[3]=[(0,n._)("i",{class:"i-mingcute:save-2-line text-5"},null,-1)]),10,w)])]))),128))]),_:1})])}}}),y=(0,e(41748).default)(k,[["__scopeId","data-v-80abc5ce"]])}}]);