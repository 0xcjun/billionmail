"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["633"],{82822:function(e,t,a){a.d(t,{Z:()=>n});var l=a(21452),i=a(32398);let n=function(e){return"number"==typeof e||(0,i.Z)(e)&&"[object Number]"==(0,l.Z)(e)}},65977:function(e,t,a){a.d(t,{Z:()=>i});var l=a(58786);let i=(0,l.aZ)({name:"Add",render:()=>(0,l.h)("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.h)("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))})},93953:function(e,t,a){a.d(t,{Z:()=>v});var l=a(65083),i=a(58786),n=a(56946),o=a(54470),r=a(51048),s=a(71309),d=a(60951),u=a(6445),c=a(73238);let m={name:"Flex",self:function(){return c.Z}},p=Object.assign(Object.assign({},n.Z.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),v=(0,i.aZ)({name:"Flex",props:p,setup(e){let{mergedClsPrefixRef:t,mergedRtlRef:a}=(0,o.ZP)(e),d=(0,n.Z)("Flex","-flex",void 0,m,e,t);return{rtlEnabled:(0,r.V)("Flex",a,t),mergedClsPrefix:t,margin:(0,i.Fl)(()=>{let{size:t}=e;if(Array.isArray(t))return{horizontal:t[0],vertical:t[1]};if("number"==typeof t)return{horizontal:t,vertical:t};let{self:{[(0,s.Tl)("gap",t)]:a}}=d.value,{row:i,col:n}=(0,l.yU)(a);return{horizontal:(0,l.fQ)(n),vertical:(0,l.fQ)(i)}})}},render(){let{vertical:e,reverse:t,align:a,inline:l,justify:n,margin:o,wrap:r,mergedClsPrefix:s,rtlEnabled:c}=this,m=(0,d.x)((0,u.z)(this),!1);return m.length?(0,i.h)("div",{role:"none",class:[`${s}-flex`,c&&`${s}-flex--rtl`],style:{display:l?"inline-flex":"flex",flexDirection:e&&!t?"column":e&&t?"column-reverse":!e&&t?"row-reverse":"row",justifyContent:n,flexWrap:!r||e?"nowrap":"wrap",alignItems:a,gap:`${o.vertical}px ${o.horizontal}px`}},m):null}})},60579:function(e,t,a){a.d(t,{Z:()=>_});var l=a(65083),i=a(23125),n=a(58786),o=a(62594),r=a(56946),s=a(54470),d=a(53198),u=a(71309),c=a(53573),m=a(66480);let p=(0,u.c)([(0,u.c)("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),(0,u.cB)("spin-container",`
 position: relative;
 `,[(0,u.cB)("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[(0,m.h)()])]),(0,u.cB)("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),(0,u.cB)("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[(0,u.cM)("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),(0,u.cB)("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),(0,u.cB)("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[(0,u.cM)("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),v={small:20,medium:18,large:16},f=Object.assign(Object.assign({},r.Z.props),{contentClass:String,contentStyle:[Object,String],description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0},delay:Number}),_=(0,n.aZ)({name:"Spin",props:f,slots:Object,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:a}=(0,s.ZP)(e),o=(0,r.Z)("Spin","-spin",p,c.Z,e,t),m=(0,n.Fl)(()=>{let{size:t}=e,{common:{cubicBezierEaseInOut:a},self:i}=o.value,{opacitySpinning:n,color:r,textColor:s}=i;return{"--n-bezier":a,"--n-opacity-spinning":n,"--n-size":"number"==typeof t?(0,l.BL)(t):i[(0,u.Tl)("size",t)],"--n-color":r,"--n-text-color":s}}),f=a?(0,d.F)("spin",(0,n.Fl)(()=>{let{size:t}=e;return"number"==typeof t?String(t):t[0]}),m,e):void 0,_=(0,i.Z)(e,["spinning","show"]),h=(0,n.iH)(!1);return(0,n.m0)(t=>{let a;if(_.value){let{delay:l}=e;if(l){a=window.setTimeout(()=>{h.value=!0},l),t(()=>{clearTimeout(a)});return}}h.value=_.value}),{mergedClsPrefix:t,active:h,mergedStrokeWidth:(0,n.Fl)(()=>{let{strokeWidth:t}=e;if(void 0!==t)return t;let{size:a}=e;return v["number"==typeof a?"medium":a]}),cssVars:a?void 0:m,themeClass:null==f?void 0:f.themeClass,onRender:null==f?void 0:f.onRender}},render(){var e,t;let{$slots:a,mergedClsPrefix:l,description:i}=this,r=a.icon&&this.rotate,s=(i||a.description)&&(0,n.h)("div",{class:`${l}-spin-description`},i||(null==(e=a.description)?void 0:e.call(a))),d=a.icon?(0,n.h)("div",{class:[`${l}-spin-body`,this.themeClass]},(0,n.h)("div",{class:[`${l}-spin`,r&&`${l}-spin--rotate`],style:a.default?"":this.cssVars},a.icon()),s):(0,n.h)("div",{class:[`${l}-spin-body`,this.themeClass]},(0,n.h)(o.Z,{clsPrefix:l,style:a.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${l}-spin`}),s);return null==(t=this.onRender)||t.call(this),a.default?(0,n.h)("div",{class:[`${l}-spin-container`,this.themeClass],style:this.cssVars},(0,n.h)("div",{class:[`${l}-spin-content`,this.active&&`${l}-spin-content--spinning`,this.contentClass],style:this.contentStyle},a),(0,n.h)(n.uT,{name:"fade-in-transition"},{default:()=>this.active?d:null})):d}})},50039:function(e,t,a){a.d(t,{Z:()=>m});var l=a(58786),i=a(56946),n=a(54470),o=a(53198),r=a(51048),s=a(71309),d=a(91078);let u=(0,s.c)([(0,s.cB)("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[(0,s.c)("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[(0,s.c)("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),(0,s.c)("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[(0,s.c)("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),(0,s.cM)("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[(0,s.c)("tr",[(0,s.c)("&:last-child",[(0,s.c)("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),(0,s.cM)("single-line",[(0,s.c)("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),(0,s.c)("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),(0,s.cM)("single-column",[(0,s.c)("tr",[(0,s.c)("&:not(:last-child)",[(0,s.c)("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),(0,s.cM)("striped",[(0,s.c)("tr:nth-of-type(even)",[(0,s.c)("td","background-color: var(--n-td-color-striped)")])]),(0,s.u4)("bottom-bordered",[(0,s.c)("tr",[(0,s.c)("&:last-child",[(0,s.c)("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),(0,s.ko)((0,s.cB)("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[(0,s.c)("th",`
 background-color: var(--n-th-color-modal);
 `),(0,s.c)("td",`
 background-color: var(--n-td-color-modal);
 `)])),(0,s.WW)((0,s.cB)("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[(0,s.c)("th",`
 background-color: var(--n-th-color-popover);
 `),(0,s.c)("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),c=Object.assign(Object.assign({},i.Z.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),m=(0,l.aZ)({name:"Table",props:c,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:a,mergedRtlRef:c}=(0,n.ZP)(e),m=(0,i.Z)("Table","-table",u,d.Z,e,t),p=(0,r.V)("Table",c,t),v=(0,l.Fl)(()=>{let{size:t}=e,{self:{borderColor:a,tdColor:l,tdColorModal:i,tdColorPopover:n,thColor:o,thColorModal:r,thColorPopover:d,thTextColor:u,tdTextColor:c,borderRadius:p,thFontWeight:v,lineHeight:f,borderColorModal:_,borderColorPopover:h,tdColorStriped:w,tdColorStripedModal:b,tdColorStripedPopover:g,[(0,s.Tl)("fontSize",t)]:y,[(0,s.Tl)("tdPadding",t)]:S,[(0,s.Tl)("thPadding",t)]:x},common:{cubicBezierEaseInOut:U}}=m.value;return{"--n-bezier":U,"--n-td-color":l,"--n-td-color-modal":i,"--n-td-color-popover":n,"--n-td-text-color":c,"--n-border-color":a,"--n-border-color-modal":_,"--n-border-color-popover":h,"--n-border-radius":p,"--n-font-size":y,"--n-th-color":o,"--n-th-color-modal":r,"--n-th-color-popover":d,"--n-th-font-weight":v,"--n-th-text-color":u,"--n-line-height":f,"--n-td-padding":S,"--n-th-padding":x,"--n-td-color-striped":w,"--n-td-color-striped-modal":b,"--n-td-color-striped-popover":g}}),f=a?(0,o.F)("table",(0,l.Fl)(()=>e.size[0]),v,e):void 0;return{rtlEnabled:p,mergedClsPrefix:t,cssVars:a?void 0:v,themeClass:null==f?void 0:f.themeClass,onRender:null==f?void 0:f.onRender}},render(){var e;let{mergedClsPrefix:t}=this;return null==(e=this.onRender)||e.call(this),(0,l.h)("table",{class:[`${t}-table`,this.themeClass,{[`${t}-table--rtl`]:this.rtlEnabled,[`${t}-table--bottom-bordered`]:this.bottomBordered,[`${t}-table--bordered`]:this.bordered,[`${t}-table--single-line`]:this.singleLine,[`${t}-table--single-column`]:this.singleColumn,[`${t}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}})},39432:function(e,t,a){a.d(t,{Au:()=>m,Fj:()=>s,LC:()=>o,Lb:()=>w,M7:()=>h,OV:()=>c,dj:()=>u,gK:()=>d,i7:()=>n,qt:()=>r,rU:()=>_,v1:()=>p,xh:()=>f,yW:()=>v});var l=a(34541);let{t:i}=a(76882).Z.global,n=e=>l.e.get("/domains/list",{params:e}),o=()=>l.e.get("/domains/all"),r=()=>l.e.post("/multi_ip_domain/apply"),s=e=>l.e.post("/domains/create",e,{fetchOptions:{loading:i("domain.api.loading.creating"),successMessage:!0}}),d=e=>l.e.post("/domains/update",e,{fetchOptions:{loading:i("domain.api.loading.updating"),successMessage:!0}}),u=e=>l.e.post("/domains/delete",e,{fetchOptions:{loading:i("domain.api.loading.deleting"),successMessage:!0}}),c=e=>l.e.post("/domains/set_ssl",e,{fetchOptions:{loading:i("domain.api.loading.settingSSL"),successMessage:!0}}),m=e=>l.e.get("/domains/get_ssl",{params:e}),p=e=>l.e.post("/domains/fresh_dns_records",e,{fetchOptions:{loading:i("domain.api.loading.refreshingDns"),successMessage:!0}}),v=e=>l.e.post("/ssl/apply_cert",e,{fetchOptions:{loading:i("domain.api.loading.applyingCert"),successMessage:!0}}),f=e=>l.e.post("/domains/set_default_domain",e,{fetchOptions:{loading:i("domain.api.loading.settingDefault"),successMessage:!0}}),_=e=>l.e.post("/askai/project/create",e,{fetchOptions:{loading:i("domain.api.loading.settingBrandInfo"),successMessage:!0}}),h=e=>l.e.post("/multi_ip_domain/test",e,{fetchOptions:{loading:i("domain.api.loading.testingConnection"),successMessage:!0}}),w=()=>l.e.post("/askai/supplier/status")},77984:function(e,t,a){a.d(t,{F:()=>o});var l=a(68271),i=a(94821),n=a(76882);let o=()=>{let{t:e}=n.Z.global,{copy:t,isSupported:a,copied:o}=(0,i.VPI)({legacy:!0});return{copied:o,copyText:async function(i){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!i)return void l.v0.error(e("common.useCopy.noText"));a.value?(await t(i),n&&l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},16634:function(e,t,a){a.d(t,{Ao:()=>o,mL:()=>r,uL:()=>n});var l=a(34541),i=a(42205);let n={fetchOptions:{loading:"Loading... Please wait.",successMessage:!0}};async function o(e){let{legal_company_name:t,web_site:a,company_profile:n,email:o,phone:r,support_url:s,hasGotCompanyProfile:d}=(0,i.J)();if(!d.value)try{let i=await l.e.post("/askai/project/get_company_profile",{domain:e});t.value=i.legal_company_name,a.value=i.web_site,n.value=i.company_profile,o.value=i.email,r.value=i.phone,s.value=i.support_url,d.value=!0}catch(e){console.warn(e)}}async function r(e){let{legal_company_name:t,web_site:a,company_profile:o,email:r,phone:s,support_url:d}=(0,i.J)();try{await l.e.post("/askai/project/modify_company_profile",{domain:e,legal_company_name:t.value,web_site:a.value,company_profile:o.value,email:r.value,phone:s.value,support_url:d.value},n)}catch(e){console.warn(e)}}},54686:function(e,t,a){a.d(t,{L7:()=>_,M7:()=>m,Rw:()=>h,VP:()=>w,Vq:()=>b,Xe:()=>v,gK:()=>p,ke:()=>f,lQ:()=>u});var l=a(34541),i=a(16634),n=a(42205),o=a(68271),r=a(39432),s=a(31708),d=a(76882);async function u(e){let{domainTit:t,domainIp:a,quota:i,unit:r,mailboxes:s,catch_email:d,hasGotDomainConfiguration:u,urls:m}=(0,n.J)();if(!u.value)try{let n=await l.e.get("/domains/list",{params:{keyword:e,page:1,page_size:1}});if((0,o.Kn)(n)){var p;let{list:l}=n,v=(0,o.UO)(l[0].quota,!0,2).split(" ");t.value=l[0].domain,a.value=(null==(p=l[0].multi_ip_domains)?void 0:p.outbound_ip)||"",i.value=v[0],r.value=v[1],s.value=l[0].mailboxes,d.value=l[0].email,m.value=l[0].urls&&l[0].urls.length>0&&""!=l[0].urls[0]?l[0].urls:[`https://${e}`],await c(e),u.value=!0}}catch(e){console.warn(e)}}async function c(e){let{brandInfo:t,createdBrandInfo:a}=(0,n.J)();try{let i=await l.e.post("/askai/project/get_project_status",{domain:e});t.value=i.status,a.value=i.create_status}catch(e){console.warn(e)}}async function m(){let{domainTit:e,domainIp:t}=(0,n.J)();if(""==t.value)return void o.v0.error(d.Z.global.t("domain.edit.domainConfiguration.validation.setDedicatedIpFirst"));try{await l.e.post("/multi_ip_domain/test",{domain:e.value,outbound_ip:t.value},{fetchOptions:{loading:d.Z.global.t("domain.edit.domainConfiguration.api.testingConnection"),successMessage:!0}})}catch(e){console.warn(e)}}async function p(){let{domainTit:e,domainIp:t,quota:a,unit:o,urls:r,mailboxes:s,catch_email:d}=(0,n.J)(),u=function(e,t){switch(t){case"KB":return 1024*e;case"MB":return 1024*e*1024;case"GB":return 1024*e*1048576;case"TB":return 1024*e*0x40000000;default:return e}}(Number(a.value),o.value);try{await l.e.post("/domains/update",{domain:e.value,mailboxes:s.value,mailboxQuota:u,quota:u,rateLimit:1,active:1,email:d.value,urls:r.value,outbound_ip:t.value},i.uL)}catch(e){console.warn(e)}}async function v(){let{waitAndCheckDomainStatusRef:e,domainTit:t,urls:a,hasGotDomainConfiguration:l}=(0,n.J)(),i=(0,s.s6)();if(l.value=!1,0==a.value.length||""==a.value[0])o.v0.error(d.Z.global.t("domain.edit.domainConfiguration.fillDomain"));else if((0,o.CB)(a.value[0]))try{await (0,r.rU)({domain:t.value,urls:a.value}),i.domainSource=t.value,e.value.open(t.value,()=>{f(t.value,1),u(t.value)})}catch(e){console.warn(e)}else o.v0.error(d.Z.global.t("domain.edit.domainConfiguration.fillValidDomain"))}async function f(e,t){try{await l.e.post("/domains/update",{domain:e,hasbrandinfo:t})}catch(e){console.warn(e)}}function _(e){let{urls:t}=(0,n.J)(),a=t.value[0].match(/http:\/\/?/g),l=t.value[0].match(/https:\/\/?/g);a&&(t.value[0]=a[0]+e),l&&(t.value[0]=l[0]+e),a||l||(t.value[0]="https://"+e)}function h(e){let{urls:t}=(0,n.J)();t.value.splice(e,1)}function w(){let{hasGotAisettings:e,hasGotCompanyProfile:t,hasGotDomainConfiguration:a,hasGotFootersettings:l,hasGotProjectDetail:i,hasGotSitemap:o,hasGotStyling:r}=(0,n.J)();e.value=!1,t.value=!1,a.value=!1,l.value=!1,i.value=!1,o.value=!1,r.value=!1}async function b(e){let{brandInfo:t,domainTit:a}=(0,n.J)();try{await l.e.post("/askai/project/set_project_status",{domain:a.value,status:e},i.uL),await l.e.post("/domains/update",{domain:a.value,active:1,hasbrandinfo:Number(e)})}catch(a){t.value=!e,console.warn(a)}}},42205:function(e,t,a){a.d(t,{J:()=>o});var l=a(30989),i=a(58786);let n=(0,l.Q_)("editDomainStore",()=>{let e=(0,i.iH)(!1),t=(0,i.iH)(""),a=(0,i.iH)(""),l=(0,i.iH)("0"),n=(0,i.iH)("B"),o=(0,i.iH)(0),r=(0,i.iH)(""),s=(0,i.iH)(["https://"]),d=(0,i.iH)(!1),u=(0,i.iH)(),c=(0,i.iH)(!1),m=(0,i.iH)(!1),p=(0,i.iH)(""),v=(0,i.iH)(""),f=(0,i.iH)(""),_=(0,i.iH)(""),h=(0,i.iH)(""),w=(0,i.iH)(""),b=(0,i.iH)(""),g=(0,i.iH)([]),y=(0,i.iH)({title:"",content:"",kid:"",update_time:0}),S=(0,i.iH)(""),x=(0,i.iH)(""),U=(0,i.iH)(!1),k=(0,i.iH)(!1),z=(0,i.iH)(""),W=(0,i.iH)(!1),Z=(0,i.iH)(""),C=(0,i.iH)(!1),H=(0,i.iH)(""),$=(0,i.iH)(""),j=(0,i.iH)(""),q=(0,i.iH)(""),D=(0,i.iH)(""),B=(0,i.iH)(""),P=(0,i.iH)(!1),F=(0,i.iH)(""),T=(0,i.iH)(""),M=(0,i.iH)(""),O=(0,i.iH)(""),I=(0,i.iH)(""),A=(0,i.iH)(""),R=(0,i.iH)(""),L=(0,i.iH)(""),V=(0,i.iH)(!1),J=(0,i.iH)([{title:"",uri_path:""}]),K=(0,i.iH)(!1),G=(0,i.iH)(""),E=(0,i.iH)("");return{hasGotDomainConfiguration:e,domainTit:t,domainIp:a,quota:l,unit:n,mailboxes:o,catch_email:r,urls:s,brandInfo:d,waitAndCheckDomainStatusRef:u,createdBrandInfo:c,hasGotProjectDetail:m,domain:p,description:v,favicon:f,industry:_,primary_logo:h,project_name:w,secondary_logo:b,knowledge_base:g,activeKnowledge:y,knowledgeTitle:S,knowledgeContent:x,knowledgeModalShow:U,isEditKnowledge:k,knowledge_base_content:z,knowledgeBasePreview:W,knowledgeBasePreviewTit:Z,hasGotCompanyProfile:C,legal_company_name:H,web_site:$,company_profile:j,email:q,phone:D,support_url:B,hasGotStyling:P,accent_color:F,text_color:T,page_background:M,container_background:O,link_social_color:I,link_footer_color:A,heading_font:R,body_font:L,hasGotSitemap:V,sitemap:J,hasGotFootersettings:K,copyright_text:G,disclaimer:E,hasGotAisettings:(0,i.iH)(!1),prompt:(0,i.iH)("")}});function o(){let e=n();return{...(0,l.Jk)(e)}}},51169:function(e,t,a){a.d(t,{d:()=>o});var l=a(58786),i=a(49247);let n=Symbol("MODAL_INJECT"),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:a,onCancel:o,onConfirm:r}=e,s=(0,l.qj)({});return a?[(0,l.aZ)({setup(i,o){let{attrs:r,slots:d}=o;return(0,l.JJ)(n,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(s,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,l.h)(a,{...i,...r},d)}}),s]:[(0,l.aZ)({setup(t,a){let{attrs:d,slots:u}=a,c=(0,l.f3)(n),m=(0,l.iH)(!1);return s.open=()=>{var t;m.value=!0,null==(t=e.onChangeState)||t.call(e,m.value)},s.close=()=>{m.value=!1},s.setState=t=>{var a;null==c||c.setState(t),null==(a=e.onChangeState)||a.call(e,m.value)},s.getState=()=>(null==c?void 0:c.state)??{},null==c||c.extendApi(s),()=>(0,l.Wm)(i.Z,(0,l.dG)({show:m.value},t,d,{onCancel:o,onConfirm:r,"onUpdate:show":e=>{m.value=e??!1}}),u)}}),s]}},16893:function(e,t,a){a.d(t,{Z:()=>o});var l=a(15496),i=a(58786);let n={class:"mr-4px"},o=(0,i.aZ)({__name:"index",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(e){let t=()=>{window.open(e.href)};return(a,o)=>{let r=l.ZP;return(0,i.wg)(),(0,i.j4)(r,{text:"",onClick:t},{default:(0,i.w5)(()=>[(0,i._)("span",n,(0,i.zw)(e.text||a.$t("common.actions.help")),1),o[0]||(o[0]=(0,i._)("i",{class:"i-custom:help text-primary"},null,-1))]),_:1,__:[0]})}}})},88583:function(e,t,a){a.d(t,{Z:()=>n});var l=a(58786);let i={class:"bt-tips flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"},n=(0,a(41748).default)({},[["render",function(e,t){return(0,l.wg)(),(0,l.iD)("ul",i,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-8731a1b4"]])},46244:function(e,t,a){a.d(t,{Z:()=>n});var l=a(98048),i=a(58786);let n=(0,i.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:a}=t,n=(0,i.iH)(null);return a({validate:()=>{var e;return null==(e=n.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=n.value)?void 0:e.restoreValidation()}}),(e,t)=>{let a=l.Z;return(0,i.wg)(),(0,i.j4)(a,(0,i.dG)(e.$attrs,{ref_key:"formRef",ref:n,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},1418:function(e,t,a){a.d(t,{Z:()=>p});var l=a(5057),i=a(57869),n=a(58786),o=a(99778),r=a(31708),s=a(34541),d=a(68271),u=a(52495);let c={class:"flex justify-start gap-2.5 bg-transparent items-center"},m={class:"flex items-center text-4"},p=(0,n.aZ)({__name:"WaitAndCheckDomainStatus",setup(e,t){let{expose:a}=t,{t:p}=(0,u.QT)(),v=(0,n.iH)(!1),f=(0,r.s6)(),_=(0,n.iH)();function h(){v.value=!1}function w(e,t){let a=setInterval(async()=>{await b(e)&&(d.v0.success(p("domain.waitAndCheckDomainStatus.success")),t&&t(),h(),clearInterval(a),_.value.open())},1e3)}async function b(e){try{if((await s.e.post("/askai/project/get_base_info",{domain:e})).update_time)return!0;return!1}catch(e){return console.warn(e),d.v0.error(p("domain.waitAndCheckDomainStatus.error")),!1}}return a({open:function(e,t){w(e,t),f.domainSource=e,v.value=!0},close:h,checkStatus:w}),(e,t)=>{let a=i.ZP,r=l.Z;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{show:(0,n.SU)(v),"onUpdate:show":t[0]||(t[0]=e=>(0,n.dq)(v)?v.value=e:null),"close-on-esc":!1,"mask-closable":!1},{default:(0,n.w5)(()=>[(0,n.Wm)(a,{style:{width:"auto"}},{default:(0,n.w5)(()=>[(0,n._)("div",c,[t[1]||(t[1]=(0,n._)("i",{class:"i-svg-spinners:bars-scale text-[var(--color-primary-1)] text-6"},null,-1)),(0,n._)("span",m,(0,n.zw)(e.$t("domain.waitAndCheckDomainStatus.loading")),1)])]),_:1})]),_:1},8,["show"]),(0,n.Wm)(o.Z,{ref_key:"createTplModal",ref:_,"only-ai":!0},null,512)],64)}}})},20069:function(e,t,a){a.r(t),a.d(t,{default:()=>eX});var l=a(39244),i=a(25170),n=a(60424),o=a(66760),r=a(16893),s=a(58786),d=a(15496),u=a(53903),c=a(93953),m=a(68271),p=a(51169),v=a(67512),f=a(39432),_=a(46244),h=a(99321),w=a(29875),b=a(8490),g=a(29283),y=a(6455),S=a(73084),x=a(49942),U=a(88583),k=a(1418),z=a(52672),W=a(31708),Z=a(52495);let C={class:"pt-16px"},H={class:"flex items-center justify-start gap-1.25"},$={class:"text-error"},j={class:"w-100px ml-20px"},q={class:"flex-1 mr-16px"},D={key:0,class:"text-[#999]"},B={class:"flex justify-start items-center"},P={class:"w-100% flex justify-between items-center"},F={class:"mr-5"},T={class:"text-[#777] flex justify-start"},M={class:"w-100% flex flex-col gap-2.5"},O=["onClick"],I=(0,s.aZ)({__name:"DomainForm",setup(e){let{t}=(0,Z.QT)(),a=(0,s.iH)(!1),l=(0,s.iH)(),i=(0,s.Fl)(()=>a.value?t("domain.form.editTitle"):t("domain.form.addTitle")),n=(0,W.s6)(),o=(0,s.iH)(!1),r=(0,s.AE)("formRef"),u=(0,s.iH)(!1),c=(0,s.iH)(["https://"]),v=(0,s.qj)({domain:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,outbound_ip:"",email:""}),I=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],A={domain:{trigger:["blur","input"],validator:()=>""!==v.domain.trim()||Error(t("domain.form.validation.domainRequired"))}},R=(e,t)=>{switch(t){case"GB":return 1024*e*1048576;case"MB":return 1024*e*1024;default:return e}},L=e=>{let t=c.value[0].match(/http:\/\/?/g),a=c.value[0].match(/https:\/\/?/g);t&&(c.value[0]=t[0]+e),a&&(c.value[0]=a[0]+e),t||a||(c.value[0]="https://"+e)},V=e=>{c.value.splice(e,1)},J=async()=>""==v.domain?void m.v0.error(t("domain.form.validation.domainInputRequired")):""==v.outbound_ip?void m.v0.error(t("domain.form.validation.dedicatedIpRequired")):void await (0,f.M7)({domain:v.domain,outbound_ip:v.outbound_ip}),[K,G]=(0,p.d)({onChangeState:async e=>{if(e){let e=G.getState();if(a.value=e.isEdit,o.value=(await (0,f.Lb)()).is_configured,e.row){let{row:t}=e;v.domain=t.domain,v.a_record=t.a_record;let a=(0,m.UO)(t.quota);v.quota=(0,m.Dx)(a.split(" ")[0]),v.quota_unit=a.split(" ")[1],v.mailboxes=t.mailboxes,v.email=t.email}}else v.domain="",v.a_record="",v.quota=5,v.quota_unit="GB",v.mailboxes=50,v.email="",v.outbound_ip="",c.value=["https://"]},onConfirm:async()=>{var e;await (null==(e=r.value)?void 0:e.validate()),a.value?await (0,f.gK)({domain:v.domain,quota:R(v.quota,v.quota_unit),mailboxes:v.mailboxes,email:v.email,urls:c.value,outbound_ip:v.outbound_ip}):(await (0,f.Fj)({domain:v.domain,quota:R(v.quota,v.quota_unit),mailboxes:v.mailboxes,email:v.email,urls:c.value,hasbrandinfo:Number(u.value),outbound_ip:v.outbound_ip}),u.value?(await (0,f.rU)({domain:v.domain,urls:c.value}),l.value.open(v.domain),n.domainSource=v.domain):n.domainSource=""),G.getState().refresh()}});function E(){z.Z.push({name:"AiModel"})}return(e,n)=>{let m=U.Z,p=x.ZP,f=S.Z,z=y.ZP,W=g.Z,Z=b.Z,R=d.ZP,G=w.Z,N=h.Z,Q=_.Z;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)((0,s.SU)(K),{title:(0,s.SU)(i),width:600},{default:(0,s.w5)(()=>[(0,s._)("div",C,[(0,s.Wm)(Q,{ref_key:"formRef",ref:r,model:(0,s.SU)(v),rules:A},{default:(0,s.w5)(()=>[(0,s.Wm)(z,{path:"domain"},{label:(0,s.w5)(()=>[(0,s._)("div",H,[(0,s._)("span",null,(0,s.zw)((0,s.SU)(t)("domain.form.domain")),1),(0,s.Wm)(p,{trigger:"hover"},{trigger:(0,s.w5)(()=>n[7]||(n[7]=[(0,s._)("i",{class:"i-custom:help text-primary cursor-pointer"},null,-1)])),default:(0,s.w5)(()=>[(0,s.Wm)(m,null,{default:(0,s.w5)(()=>[(0,s._)("li",$,(0,s.zw)((0,s.SU)(t)("domain.form.tips.aRecordFailed")),1),(0,s._)("li",null,(0,s.zw)((0,s.SU)(t)("domain.form.tips.dnsSetup")),1),(0,s._)("li",null,(0,s.zw)((0,s.SU)(t)("domain.form.tips.cloudflare")),1)]),_:1})]),_:1})])]),default:(0,s.w5)(()=>[(0,s.Wm)(f,{value:(0,s.SU)(v).domain,"onUpdate:value":[n[0]||(n[0]=e=>(0,s.SU)(v).domain=e),L],disabled:(0,s.SU)(a),placeholder:(0,s.SU)(t)("domain.form.domainPlaceholder")},null,8,["value","disabled","placeholder"])]),_:1}),(0,s.Wm)(z,{label:(0,s.SU)(t)("domain.form.quota")},{default:(0,s.w5)(()=>[(0,s.Wm)(W,{value:(0,s.SU)(v).quota,"onUpdate:value":n[1]||(n[1]=e=>(0,s.SU)(v).quota=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"]),(0,s._)("div",j,[(0,s.Wm)(Z,{value:(0,s.SU)(v).quota_unit,"onUpdate:value":n[2]||(n[2]=e=>(0,s.SU)(v).quota_unit=e),options:I},null,8,["value"])])]),_:1},8,["label"]),(0,s.Wm)(z,{label:(0,s.SU)(t)("domain.form.mailboxCount")},{default:(0,s.w5)(()=>[(0,s.Wm)(W,{value:(0,s.SU)(v).mailboxes,"onUpdate:value":n[3]||(n[3]=e=>(0,s.SU)(v).mailboxes=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"])]),_:1},8,["label"]),(0,s.Wm)(z,{label:e.$t("domain.form.dedicatedIp")},{default:(0,s.w5)(()=>[(0,s._)("div",q,[(0,s.Wm)(f,{value:(0,s.SU)(v).outbound_ip,"onUpdate:value":n[4]||(n[4]=e=>(0,s.SU)(v).outbound_ip=e),placeholder:"未设置"},null,8,["value"])]),(0,s.SU)(v).outbound_ip?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",D,(0,s.zw)(e.$t("domain.form.notSet")),1)),(0,s.Wm)(R,{type:"primary",ghost:"",onClick:J},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.form.testConnection")),1)]),_:1})]),_:1},8,["label"]),(0,s.Wm)(z,{label:(0,s.SU)(t)("domain.form.globalCatch")},{default:(0,s.w5)(()=>[(0,s.Wm)(f,{value:(0,s.SU)(v).email,"onUpdate:value":n[5]||(n[5]=e=>(0,s.SU)(v).email=e),placeholder:(0,s.SU)(t)("domain.form.globalCatchPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,s.Wm)(z,null,{label:(0,s.w5)(()=>[(0,s._)("div",B,[n[8]||(n[8]=(0,s._)("i",{class:"i-domain:brand-info w-5 h-5 mr-1.25"},null,-1)),(0,s._)("span",null,(0,s.zw)(e.$t("domain.form.createBrandInfo")),1)])]),default:(0,s.w5)(()=>[(0,s.Wm)(G,{value:(0,s.SU)(u),"onUpdate:value":n[6]||(n[6]=e=>(0,s.dq)(u)?u.value=e:null),disabled:!(0,s.SU)(o)},null,8,["value","disabled"])]),_:1}),(0,s.SU)(o)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(N,{key:0,class:"mb-16px",size:"small",type:"warning","show-icon":!1},{default:(0,s.w5)(()=>[(0,s._)("div",P,[(0,s._)("span",F,(0,s.zw)(e.$t("domain.form.modelNotice")),1),(0,s.Wm)(R,{type:"primary",size:"small",onClick:E},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.form.integrateImmediately")),1)]),_:1})])]),_:1})),(0,s._)("div",T,[n[9]||(n[9]=(0,s._)("span",null,[(0,s._)("i",{class:"i-domain:brand-info w-5 h-5 mr-1.25"})],-1)),(0,s._)("span",null,(0,s.zw)(e.$t("domain.form.modelDescription")),1)]),(0,s.Wm)(m,{style:{"margin-bottom":"15px"}},{default:(0,s.w5)(()=>[(0,s._)("li",null,(0,s.zw)(e.$t("domain.form.extractBrand")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.form.analyzeStructure")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.form.importContent")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.form.customLogo")),1)]),_:1}),(0,s.Wm)(z,{label:e.$t("domain.form.specifyDomain")},{default:(0,s.w5)(()=>[(0,s._)("div",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,s.SU)(c),(e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,class:"flex justify-start items-center gap-2.5"},[(0,s.Wm)(f,{value:(0,s.SU)(c)[a],"onUpdate:value":e=>(0,s.SU)(c)[a]=e,placeholder:(0,s.SU)(t)("domain.form.urlsPlacement"),disabled:!(0,s.SU)(o)},null,8,["value","onUpdate:value","placeholder","disabled"]),0!=a?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"close",onClick:e=>V(a)},n[10]||(n[10]=[(0,s._)("i",{class:"i-material-symbols:close-rounded text-5"},null,-1)]),8,O)):(0,s.kq)("",!0)]))),128))])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"]),(0,s.Wm)(k.Z,{ref_key:"waitAndCheckDomainStatusRef",ref:l},null,512)],64)}}});var A=a(41748);let R=(0,A.default)(I,[["__scopeId","data-v-7b64ca0c"]]);var L=a(10320);let V=(0,s.aZ)({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let t=(0,s.tT)(e,"value");return(e,a)=>{let l=L.Z;return(0,s.wg)(),(0,s.j4)(l,{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),class:"bt-tabs h-full",type:"card",placement:"top"},{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"default")]),_:3},8,["value"])}}}),J=(0,A.default)(V,[["__scopeId","data-v-53057eda"]]);var K=a(43751),G=a(60579);let E={class:"ssl-cert-container"},N={class:"brand-info"},Q={class:"info-label"},X={class:"info-value"},Y={class:"info-label"},ee={class:"info-value font-normal!"},et={class:"cert-content"},ea={class:"cert-section"},el={class:"section-title"},ei={class:"cert-section"},en={class:"section-title"},eo={class:"cert-actions"},er=(0,s.aZ)({__name:"OtherCert",props:{domain:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){let t=(0,s.iH)(!1),a=(0,s.iH)({subject:"",issuer:"",not_before:"",not_after:"",dns:[],endtime:0,key_pem:"",cert_pem:""}),l=(0,s.Fl)(()=>a.value.dns||[]),i=async()=>{try{t.value=!0;let l=await (0,f.Au)({domain:e.domain.domain});(0,m.Kn)(l)&&(a.value=l)}finally{t.value=!1}},n=async()=>{await (0,f.OV)({domain:e.domain.domain,key:a.value.key_pem,certificate:a.value.cert_pem}),i(),e.refresh()},o=async()=>{await (0,f.yW)({domain:e.domain.domain}),i(),e.refresh()};return a.value=e.domain.cert_info,(e,i)=>{let r=u.ZP,c=h.Z,m=S.Z,p=d.ZP,v=G.Z,f=U.Z;return(0,s.wg)(),(0,s.iD)("div",E,[(0,s.Wm)(v,{show:(0,s.SU)(t)},{default:(0,s.w5)(()=>[(0,s.SU)(a).endtime>0?((0,s.wg)(),(0,s.j4)(c,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:(0,s.w5)(()=>[(0,s._)("div",N,[(0,s._)("div",Q,(0,s.zw)(e.$t("domain.ssl.cert.brand"))+"：",1),(0,s._)("div",X,(0,s.zw)((0,s.SU)(a).issuer),1),(0,s._)("div",Y,(0,s.zw)(e.$t("domain.ssl.cert.domains"))+"：",1),(0,s._)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,s.SU)(l),(e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t,size:"small"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e),1)]),_:2},1024))),128))])])]),_:1})):(0,s.kq)("",!0),(0,s._)("div",et,[(0,s._)("div",ea,[(0,s._)("div",el,(0,s.zw)(e.$t("domain.ssl.cert.privateKey")),1),(0,s.Wm)(m,{value:(0,s.SU)(a).key_pem,"onUpdate:value":i[0]||(i[0]=e=>(0,s.SU)(a).key_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.keyPlaceholder"),rows:14,"input-props":{spellcheck:!1}},null,8,["value","placeholder"])]),(0,s._)("div",ei,[(0,s._)("div",en,(0,s.zw)(e.$t("domain.ssl.cert.certificate")),1),(0,s.Wm)(m,{value:(0,s.SU)(a).cert_pem,"onUpdate:value":i[1]||(i[1]=e=>(0,s.SU)(a).cert_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.certPlaceholder"),"input-props":{spellcheck:!1},rows:14},null,8,["value","placeholder"])])]),(0,s._)("div",eo,[(0,s.Wm)(p,{type:"primary",onClick:n},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("common.actions.save")),1)]),_:1}),(0,s.Wm)(p,{type:"primary",onClick:o},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ssl.actions.applyFree")),1)]),_:1})])]),_:1},8,["show"]),(0,s.Wm)(f,null,{default:(0,s.w5)(()=>[(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.paste")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.chainCheck")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.pemFormat")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.defaultSite")),1)]),_:1})])}}}),es=(0,A.default)(er,[["__scopeId","data-v-bd7d6d60"]]),ed=(0,s.aZ)({__name:"index",setup(e){let t=(0,s.iH)("other"),a=(0,s.iH)(null),[l,i]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=i.getState();e&&(a.value=e)}}}),n=()=>{i.getState().refresh()};return(e,i)=>{let o=K.Z;return(0,s.wg)(),(0,s.j4)((0,s.SU)(l),{title:e.$t("domain.ssl.title"),width:650,footer:!1},{default:(0,s.w5)(()=>[(0,s.Wm)(J,{value:(0,s.SU)(t),"onUpdate:value":i[0]||(i[0]=e=>(0,s.dq)(t)?t.value=e:null)},{default:(0,s.w5)(()=>[(0,s.Wm)(o,{name:"other",tab:e.$t("domain.ssl.tabs.otherCertificate")},{default:(0,s.w5)(()=>[(0,s.SU)(a)?((0,s.wg)(),(0,s.j4)(es,{key:0,domain:(0,s.SU)(a),refresh:n},null,8,["domain"])):(0,s.kq)("",!0)]),_:1},8,["tab"])]),_:1},8,["value"])]),_:1},8,["title"])}}});var eu=a(35409),ec=a(50039),em=a(56357),ep=a(87075),ev=a(62198),ef=a(77984);let e_={class:"record-title"},eh={width:"140"},ew={width:"160"},eb={class:"record-title"},eg={class:"record-desc"},ey={width:"140"},eS={width:"160"},ex={class:"record-title"},eU={class:"record-desc"},ek={width:"140"},ez={width:"160"},eW={class:"record-title"},eZ={class:"record-desc"},eC={class:"record-desc"},eH={class:"flex justify-center mt-24px"},e$=(0,s.aZ)({__name:"DomainDns",setup(e){let{t}=(0,Z.QT)(),{copyText:a}=(0,ef.F)(),l=(0,s.iH)([]),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return l.value.length>0?l.value[0].dns_records[e][t]:""},o=(0,s.Fl)(()=>i("dkim")),r=(0,s.Fl)(()=>i("a")),u=(0,s.Fl)(()=>i("a","host")),c=(0,s.Fl)(()=>i("mx")),v=(0,s.Fl)(()=>i("mx","host")),_=(0,s.Fl)(()=>i("dmarc")),h=(0,s.Fl)(()=>i("spf")),w=e=>{let{status:a}=e;return(0,s.Wm)("div",{class:["inline-flex items-center",a?"text-primary":"text-error"]},[(0,s.Wm)(em.g,{size:"16"},{default:()=>[a?(0,s.Wm)(ep.Z,null,null):(0,s.Wm)(ev.Z,null,null)]}),(0,s.Wm)("span",{class:"ml-4px"},[a?t("domain.dns.status.ok"):t("domain.dns.status.notSet")])])},b=(0,s.iH)([{key:"domain",title:t("domain.dns.columns.domain"),width:"20%",ellipsis:{tooltip:!0}},{key:"mx",title:"MX",render:e=>{let t=e.dns_records.mx;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"a",title:"A record",render:e=>{let t=e.dns_records.a;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"spf",title:"SPF",render:e=>{let t=e.dns_records.spf;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dkim",title:"DKIM",render:e=>{let t=e.dns_records.dkim;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dmarc",title:"DMARC",render:e=>{let t=e.dns_records.dmarc;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"ptr",title:"PTR",render:e=>{let t=e.dns_records.ptr;return(0,s.Wm)(w,{status:(null==t?void 0:t.valid)||!1},null)}}]),g=async()=>{let e=await (0,f.v1)({domain:l.value[0].domain});(0,m.Kn)(e)&&(l.value[0].dns_records=e);let{refresh:t}=S.getState();t()},[y,S]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=S.getState();e&&(l.value=[e])}}});return(e,i)=>{let m=n.Z,p=ec.Z,f=eu.ZP,w=d.ZP;return(0,s.wg)(),(0,s.j4)((0,s.SU)(y),{title:(0,s.SU)(t)("domain.dns.title"),width:750,footer:!1},{default:(0,s.w5)(()=>[(0,s._)("div",null,[(0,s.Wm)(m,{size:"small",class:"mb-20px",data:(0,s.SU)(l),columns:(0,s.SU)(b)},null,8,["data","columns"]),(0,s._)("div",e_,(0,s.zw)((0,s.SU)(t)("domain.dns.step1.title")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",eh,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",ew,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[i[3]||(i[3]=(0,s._)("td",null,"A",-1)),(0,s._)("td",null,(0,s.zw)((0,s.SU)(u)),1),(0,s._)("td",null,(0,s.zw)((0,s.SU)(r)),1)])])]),_:1}),(0,s._)("div",eb,(0,s.zw)((0,s.SU)(t)("domain.dns.step2.title")),1),(0,s._)("div",eg,(0,s.zw)((0,s.SU)(t)("domain.dns.step2.description")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",ey,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",eS,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.mxPriority")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[i[4]||(i[4]=(0,s._)("td",null,"MX",-1)),(0,s._)("td",null,(0,s.zw)((0,s.SU)(v)),1),(0,s._)("td",null,(0,s.zw)((0,s.SU)(c)),1),i[5]||(i[5]=(0,s._)("td",null,"10",-1))])])]),_:1}),(0,s._)("div",ex,(0,s.zw)((0,s.SU)(t)("domain.dns.step3.title")),1),(0,s._)("div",eU,(0,s.zw)((0,s.SU)(t)("domain.dns.step3.description")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",ek,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",ez,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[i[6]||(i[6]=(0,s._)("td",null,"TXT",-1)),i[7]||(i[7]=(0,s._)("td",null,"@",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(h)),1)]),_:1}),(0,s.Wm)(w,{text:"",type:"primary",onClick:i[0]||(i[0]=()=>(0,s.SU)(a)((0,s.SU)(h)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})])]),(0,s._)("tr",null,[i[8]||(i[8]=(0,s._)("td",null,"TXT",-1)),i[9]||(i[9]=(0,s._)("td",null,"default._domainkey",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(o)||"--"),1)]),_:1}),(0,s.SU)(o)?((0,s.wg)(),(0,s.j4)(w,{key:0,text:"",type:"primary",onClick:i[1]||(i[1]=()=>(0,s.SU)(a)((0,s.SU)(o)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})):(0,s.kq)("",!0)])]),(0,s._)("tr",null,[i[10]||(i[10]=(0,s._)("td",null,"TXT",-1)),i[11]||(i[11]=(0,s._)("td",null,"_dmarc",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(_)),1)]),_:1}),(0,s.SU)(_)?((0,s.wg)(),(0,s.j4)(w,{key:0,text:"",type:"primary",onClick:i[2]||(i[2]=()=>(0,s.SU)(a)((0,s.SU)(_)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})):(0,s.kq)("",!0)])])])]),_:1}),(0,s._)("div",eW,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.title")),1),(0,s._)("div",eZ,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.description1")),1),(0,s._)("div",eC,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.description2")),1)]),(0,s._)("div",eH,[(0,s.Wm)(w,{type:"primary",onClick:g},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("domain.dns.verify")),1)]),_:1})])]),_:1},8,["title"])}}}),ej=(0,A.default)(e$,[["__scopeId","data-v-8094e116"]]);var eq=a(49247);let eD={class:"inline-flex items-center text-16px"},eB={key:0,class:"i-tdesign:check-circle-filled text-primary"},eP={key:1,class:"inline-flex flex-center w-16px h-16px bg-error rounded-full"},eF={key:2,class:"i-tdesign:time-filled text-desc"},eT=(0,s.aZ)({__name:"IpStatus",props:{status:{type:String,default:"pending"}},setup:e=>(t,a)=>{let l=G.Z;return(0,s.wg)(),(0,s.iD)("div",eD,["applied"===e.status?((0,s.wg)(),(0,s.iD)("i",eB)):(0,s.kq)("",!0),"failed"===e.status?((0,s.wg)(),(0,s.iD)("div",eP,a[0]||(a[0]=[(0,s._)("i",{class:"i-fa-solid:unlink text-#fff text-10px"},null,-1)]))):(0,s.kq)("",!0),"pending"===e.status?((0,s.wg)(),(0,s.iD)("i",eF)):(0,s.kq)("",!0),"applying"===e.status?((0,s.wg)(),(0,s.j4)(l,{key:3,show:!0,size:16})):(0,s.kq)("",!0)])}}),eM={class:"pt-16px px-16px text-basic"},eO={class:"flex justify-between items-center mb-16px"},eI={class:"flex items-center"},eA={class:"flex items-center"},eR={class:"flex justify-center gap-16px"},eL={class:"flex justify-center"},eV=(0,s.aZ)({__name:"DomainIpSet",setup(e){let{t}=(0,Z.QT)(),a=(0,s.iH)(""),l=(0,s.iH)(""),i=(0,s.iH)(""),n=(0,s.Fl)(()=>"failed"===i.value?"failed":"applied"),o=(0,s.Fl)(()=>"applied"===i.value?"applied":"failed"),r=(0,s.Fl)(()=>a.value?t("domain.ipSet.titleWithDomain",{domain:a.value}):t("domain.ipSet.title")),u=(0,s.iH)(!1),c=(0,s.iH)(!1),v=(0,s.iH)(""),_=(0,s.iH)(""),w=async()=>{try{u.value=!0;let e=await (0,f.qt)();(0,m.Kn)(e)&&(v.value=e.command,_.value=e.fix_command,c.value=!0)}finally{u.value=!1}},b=(0,s.iH)(!1),{copyText:g}=(0,ef.F)(),y=()=>{if(!c.value)return void m.v0.error(t("domain.ipSet.validation.getCommandFirst"));g(v.value,!1),b.value=!0},[S,x]=(0,p.d)({onChangeState:e=>{if(e){var t,n;let{row:e}=x.getState();a.value=e.domain,l.value=(null==(t=e.multi_ip_domains)?void 0:t.outbound_ip)||"",i.value=(null==(n=e.multi_ip_domains)?void 0:n.status)||""}}});return(e,t)=>{let a=h.Z,i=G.Z,c=d.ZP,m=eq.Z;return(0,s.wg)(),(0,s.j4)((0,s.SU)(S),{title:(0,s.SU)(r),width:500,footer:!1},{default:(0,s.w5)(()=>[(0,s._)("div",eM,[(0,s._)("div",eO,[(0,s._)("div",null,(0,s.zw)(e.$t("domain.ipSet.dedicatedIp"))+(0,s.zw)((0,s.SU)(l)),1),(0,s._)("div",eI,[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.configFile"))+" ",1),(0,s.Wm)(eT,{status:(0,s.SU)(n)},null,8,["status"])]),(0,s._)("div",eA,[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.connectionStatus"))+" ",1),(0,s.Wm)(eT,{status:(0,s.SU)(o)},null,8,["status"])])]),(0,s.Wm)(a,{class:"mb-16px",type:"warning","show-icon":!1,bordered:!1},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.warning")),1)]),_:1}),(0,s.Wm)(i,{size:"small",show:(0,s.SU)(u)},{default:(0,s.w5)(()=>[(0,s.Wm)(a,{class:"command-alert mb-16px","show-icon":!1,bordered:!1},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(v)||"--"),1)]),_:1})]),_:1},8,["show"]),(0,s._)("div",eR,[(0,s.Wm)(c,{type:"primary",loading:(0,s.SU)(u),disabled:(0,s.SU)(u),onClick:w},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.getCommand")),1)]),_:1},8,["loading","disabled"]),(0,s.Wm)(c,{onClick:y},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.copyCommand")),1)]),_:1})])]),(0,s.Wm)(m,{show:(0,s.SU)(b),"onUpdate:show":t[1]||(t[1]=e=>(0,s.dq)(b)?b.value=e:null),width:420,title:e.$t("domain.ipSet.operationReminder"),footer:!1},{default:(0,s.w5)(()=>[(0,s.Wm)(a,{class:"mb-16px",type:"warning","show-icon":!1,bordered:!1},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.fixCommandTip")),1),t[2]||(t[2]=(0,s._)("br",null,null,-1)),(0,s.Uk)('"'+(0,s.zw)((0,s.SU)(_))+'" ',1)]),_:1,__:[2]}),(0,s._)("div",eL,[(0,s.Wm)(c,{type:"primary",onClick:t[0]||(t[0]=e=>b.value=!1)},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ipSet.understood")),1)]),_:1})])]),_:1},8,["show","title"])]),_:1},8,["title"])}}}),eJ=(0,A.default)(eV,[["__scopeId","data-v-27e6c7c6"]]);var eK=a(65965);let eG={class:"p-24px"},eE={class:"bt-title"};function eN(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}let eQ=(0,s.aZ)({__name:"index",setup(e){let{t}=(0,Z.QT)(),{tableParams:a,tableList:_,loading:h,tableTotal:w,getTableData:b}=(0,v.Z)({immediate:!0,params:{page:1,page_size:10,keyword:""},fetchFn:f.i7}),g=(0,eK.yj)(),y=(0,eK.tv)(),S=(0,s.iH)([{key:"domain",title:t("domain.columns.domain"),minWidth:130,ellipsis:{tooltip:!0},render:e=>{let a;return(0,s.Wm)("div",{class:"inline-flex items-center"},[1==e.hasbrandinfo&&(0,s.Wm)("i",{class:"i-domain:brand-info w-4 h-4 mr-4px"},null),(0,s.Wm)(d.ZP,{text:!0,type:"primary",onClick:()=>D(e)},{default:()=>[e.domain]}),1===e.default&&(0,s.Wm)(u.ZP,{size:"small",class:"ml-8px",bordered:!1},eN(a=t("domain.status.default"))?a:{default:()=>[a]})])}},{key:"quota",title:t("domain.columns.quota"),render:e=>(0,m.UO)(e.quota)},{key:"mailboxes",title:t("domain.columns.mailboxes")},{key:"mailbox_quota",title:t("domain.columns.defaultMailboxSize"),render:e=>(0,m.UO)(e.mailbox_quota)},{key:"multi_ip_domains",title:t("domain.columns.dedicatedIp"),render:e=>e.multi_ip_domains?(0,s.Wm)("div",{class:"flex items-center cursor-pointer",onClick:()=>{F(e)}},[(0,s.Wm)("span",{class:"leading-14px mr-6px"},[e.multi_ip_domains.outbound_ip]),(0,s.Wm)(eT,{status:e.multi_ip_domains.status},null)]):"--"},{key:"ssl",title:"SSL",render:e=>{let a;if(e.cert_info&&e.cert_info.endtime){let a=Math.floor((1e3*e.cert_info.endtime-Date.now())/1e3/60/60/24);return(0,s.Wm)(d.ZP,{type:a<0?"error":"primary",text:!0,onClick:()=>{C(e)}},{default:()=>[a<0?t("domain.ssl.expired"):t("domain.ssl.daysLeft",{days:a})]})}return(0,s.Wm)(d.ZP,{type:"warning",text:!0,onClick:()=>{C(e)}},eN(a=t("domain.ssl.notSet"))?a:{default:()=>[a]})}},{title:t("domain.columns.actions"),key:"actions",align:"right",width:260,render:e=>{let a,l,i,n;return(0,s.Wm)(c.Z,{inline:!0},{default:()=>[(0,s.Wm)(d.ZP,{type:"primary",text:!0,onClick:()=>{j(e)}},eN(a=t("domain.actions.dnsRecord"))?a:{default:()=>[a]}),(0,s.Wm)(d.ZP,{type:"primary",text:!0,onClick:()=>{D(e)}},eN(l=t("common.actions.edit"))?l:{default:()=>[l]}),(0,s.Wm)(d.ZP,{type:"primary",text:!0,disabled:1===e.default,onClick:()=>{q(e)}},eN(i=t("domain.actions.setDefault"))?i:{default:()=>[i]}),(0,s.Wm)(d.ZP,{type:"error",text:!0,onClick:()=>{T(e)}},eN(n=t("common.actions.delete"))?n:{default:()=>[n]})]})}}]),[x,U]=(0,p.d)({component:R,state:{isEdit:!1,refresh:b}}),k=()=>{U.setState({row:null,isEdit:!1}),U.open()},[z,W]=(0,p.d)({component:ed,state:{refresh:b}}),C=e=>{W.setState({row:e}),W.open()},[H,$]=(0,p.d)({component:ej,state:{refresh:b}}),j=e=>{$.setState({row:e}),$.open()},q=e=>{(0,m.iG)({title:t("domain.setDefault.title",{domain:e.domain}),content:t("domain.setDefault.confirm"),onConfirm:async()=>{await (0,f.xh)({domain:e.domain}),b()}})},D=e=>{y.push({name:"EditDomain",params:{domain:e.domain}})},[B,P]=(0,p.d)({component:eJ}),F=e=>{P.setState({row:e}),P.open()},T=e=>{(0,m.iG)({title:t("domain.delete.title"),content:t("domain.delete.confirm",{domain:e.domain}),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{await (0,f.dj)({domain:e.domain}),b()}})},M=(0,s.iH)("");return(0,s.bv)(()=>{M.value=g.query.init,"init-domain"===M.value&&k()}),(e,u)=>{let c=r.Z,m=o.Z,p=n.Z,v=i.Z,f=l.Z;return(0,s.wg)(),(0,s.iD)("div",eG,[(0,s._)("div",eE,(0,s.zw)((0,s.SU)(t)("layout.menu.domain")),1),(0,s.Wm)(f,null,{toolsLeft:(0,s.w5)(()=>[(0,s.Wm)((0,s.SU)(d.ZP),{type:"primary",onClick:k},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("domain.addDomain")),1)]),_:1}),(0,s.Wm)(c,{href:"https://www.billionmail.com/start/domain.html",text:(0,s.SU)(t)("domain.help")},null,8,["text"])]),table:(0,s.w5)(()=>[(0,s.Wm)(p,{loading:(0,s.SU)(h),columns:(0,s.SU)(S),data:(0,s.SU)(_)},{empty:(0,s.w5)(()=>[(0,s.Wm)(m)]),_:1},8,["loading","columns","data"])]),pageRight:(0,s.w5)(()=>[(0,s.Wm)(v,{page:(0,s.SU)(a).page,"onUpdate:page":u[0]||(u[0]=e=>(0,s.SU)(a).page=e),"page-size":(0,s.SU)(a).page_size,"onUpdate:pageSize":u[1]||(u[1]=e=>(0,s.SU)(a).page_size=e),"item-count":(0,s.SU)(w),onRefresh:(0,s.SU)(b)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,s.w5)(()=>[(0,s.Wm)((0,s.SU)(x)),(0,s.Wm)((0,s.SU)(z)),(0,s.Wm)((0,s.SU)(H)),(0,s.Wm)((0,s.SU)(B))]),_:1})])}}}),eX=(0,A.default)(eQ,[["__scopeId","data-v-2c3e8a15"]])}}]);