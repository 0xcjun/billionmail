"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["132"],{20969:function(e,t,l){l.d(t,{WH:()=>i,hI:()=>s,iE:()=>c,mD:()=>p,sS:()=>r,uz:()=>f,vi:()=>d,yG:()=>g,yL:()=>u});var a=l(77527),o=l(86244);let{t:n}=a.Z.global,s=e=>o.e.get("/contact/group/list",{params:e}),i=()=>o.e.get("/contact/group/all"),u=e=>o.e.get("/contact/group/info",{params:e}),r=e=>o.e.post("/contact/group/create",e,{fetchOptions:{loading:n("contacts.group.loading.createGroup"),successMessage:!0}}),p=e=>o.e.post("/contact/group/update",e,{fetchOptions:{loading:n("contacts.group.loading.updateGroup"),successMessage:!0}}),c=e=>o.e.post("/contact/group/delete",e,{fetchOptions:{loading:n("contacts.group.loading.deleteGroup"),successMessage:!0}}),d=e=>o.e.post("/contact/group/contact_count",e),g=e=>o.e.post("/contact/group/export",e,{fetchOptions:{loading:n("contacts.group.loading.exportGroup"),successMessage:!0}}),f=e=>o.e.post("/contact/group/update",e,{fetchOptions:{loading:n("contacts.group.loading.saveSettings"),successMessage:!0}})},58538:function(e,t,l){l.d(t,{N:()=>s});var a=l(66671),o=l(43407),n=l(25595);let s=e=>{let{params:t,fetchFn:l,useParams:s,loading:i=!0,immediate:u=!0,rowKey:r=e=>e.id}=e,p=(0,n.iH)(i),c=(0,n.iH)([]),d=(0,n.iH)(0),g=(0,n.iH)(t),f=(0,n.iH)([]),m=()=>s?s(g.value):g.value,v=(0,a.DI)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(g.value.page=1),p.value=!0;try{let e=m(),t=await l(e);(0,o.Kn)(t)&&(c.value=(0,o.kJ)(t.list)?t.list:[],d.value=(0,o.hj)(t.total)?t.total:0)}finally{f.value=[],p.value=!1}},300),h=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(e)},w=e=>{f.value=e},_=e=>{g.value.page=e},y=e=>{g.value.page_size=e};return(0,n.bv)(()=>{u&&h()}),{tableData:c,tableTotal:d,tableKeys:f,tableParams:g,fetchTable:h,resetTable:()=>h(!0),tableProps:(0,n.Fl)(()=>({rowKey:r,data:c.value,loading:p.value,checkedRowKeys:f.value,onUpdateCheckedRowKeys:w})),pageProps:(0,n.Fl)(()=>({page:g.value.page,pageSize:g.value.page_size,itemCount:d.value,onUpdatePage:_,onUpdatePageSize:y}))}}},16821:function(e,t,l){l.d(t,{d:()=>s});var a=l(25595),o=l(30295);let n=Symbol("MODAL_INJECT"),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:l,onCancel:s,onConfirm:i}=e,u=(0,a.qj)({});return l?[(0,a.aZ)({setup(o,s){let{attrs:i,slots:r}=s;return(0,a.JJ)(n,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(u,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,a.h)(l,{...o,...i},r)}}),u]:[(0,a.aZ)({setup(t,l){let{attrs:r,slots:p}=l,c=(0,a.f3)(n),d=(0,a.iH)(!1);return u.open=()=>{var t;d.value=!0,null==(t=e.onChangeState)||t.call(e,d.value)},u.close=()=>{d.value=!1},u.setState=t=>{var l;null==c||c.setState(t),null==(l=e.onChangeState)||l.call(e,d.value)},u.getState=()=>(null==c?void 0:c.state)??{},null==c||c.extendApi(u),()=>(0,a.Wm)(o.Z,(0,a.dG)({show:d.value},t,r,{onCancel:s,onConfirm:i,"onUpdate:show":e=>{d.value=e??!1}}),p)}}),u]}},82646:function(e,t,l){l.d(t,{Z:()=>n});var a=l(85068),o=l(25595);let n=(0,o.aZ)({__name:"index",props:(0,o.Vf)({width:{default:240},prefix:{type:Boolean,default:!1}},{value:{default:""},valueModifiers:{}}),emits:(0,o.Vf)(["search"],["update:value"]),setup(e,t){let{expose:l,emit:n}=t,s=(0,o.iH)(null),i=(0,o.tT)(e,"value"),u=()=>{n("search",i.value)};return l({focus:()=>{var e;null==(e=s.value)||e.focus()}}),(e,t)=>{let l=a.Z;return(0,o.wg)(),(0,o.j4)(l,(0,o.dG)({ref_key:"inputRef",ref:s,value:i.value,"onUpdate:value":t[0]||(t[0]=e=>i.value=e)},e.$attrs,{class:"bt-search",style:{width:`${e.width}px`},onKeyup:(0,o.D2)(u,["enter"])}),(0,o.Nv)({_:2},[e.prefix?{name:"prefix",fn:(0,o.w5)(()=>[(0,o._)("div",{class:"flex items-center cursor-pointer",onClick:u},t[1]||(t[1]=[(0,o._)("i",{class:"i-mdi-search text-16px"},null,-1)]))]),key:"0"}:void 0,e.prefix?void 0:{name:"suffix",fn:(0,o.w5)(()=>[(0,o._)("div",{class:"flex items-center cursor-pointer",onClick:u},t[2]||(t[2]=[(0,o._)("i",{class:"i-mdi-search text-16px"},null,-1)]))]),key:"1"}]),1040,["value","style"])}}})},25322:function(e,t,l){l.d(t,{Z:()=>n});var a=l(44971),o=l(25595);let n=(0,o.aZ)({__name:"index",setup(e){let t=!!(0,o.Rr)().toolsLeft,l=!!(0,o.Rr)().toolsRight,n=!!(0,o.Rr)().pageLeft||!!(0,o.Rr)().pageRight;return(e,s)=>{let i=a.Z;return(0,o.wg)(),(0,o.iD)("div",null,[t||l?((0,o.wg)(),(0,o.j4)(i,{key:0,class:"items-center mb-12px",justify:"space-between"},{default:(0,o.w5)(()=>[(0,o.Wm)(i,{class:"items-center",size:12},{default:(0,o.w5)(()=>[(0,o.WI)(e.$slots,"toolsLeft")]),_:3}),(0,o.Wm)(i,{class:"items-center",size:12},{default:(0,o.w5)(()=>[(0,o.WI)(e.$slots,"toolsRight")]),_:3})]),_:3})):(0,o.kq)("",!0),(0,o.WI)(e.$slots,"table"),(0,o.SU)(n)?((0,o.wg)(),(0,o.j4)(i,{key:1,class:"items-center mt-12px",justify:"space-between"},{default:(0,o.w5)(()=>[(0,o._)("div",null,[(0,o.WI)(e.$slots,"pageLeft")]),(0,o.Wm)(i,null,{default:(0,o.w5)(()=>[(0,o.WI)(e.$slots,"pageRight")]),_:3})]),_:3})):(0,o.kq)("",!0),(0,o.WI)(e.$slots,"modal")])}}})},21921:function(e,t,l){l.d(t,{Z:()=>n});var a=l(72281),o=l(25595);let n=(0,o.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:l}=t,n=(0,o.iH)(null);return l({validate:()=>{var e;return null==(e=n.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=n.value)?void 0:e.restoreValidation()}}),(e,t)=>{let l=a.Z;return(0,o.wg)(),(0,o.j4)(l,(0,o.dG)(e.$attrs,{ref_key:"formRef",ref:n,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,o.w5)(()=>[(0,o.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},80837:function(e,t,l){l.d(t,{Z:()=>i});var a=l(51559),o=l(25595),n=l(43407);let s={class:"ml-8px text-14px"},i=(0,o.aZ)({__name:"index",props:(0,o.Vf)({storeKey:{default:""},pageSizes:{default:()=>[10,20,50,100]},showTotal:{type:Boolean,default:!0},showSizePicker:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!0},onUpdatePage:{}},{page:{},pageModifiers:{},pageSize:{},pageSizeModifiers:{}}),emits:(0,o.Vf)(["refresh"],["update:page","update:pageSize"]),setup(e,t){let{emit:l}=t,i=(0,o.Fl)(()=>{let{storeKey:t}=e;return t?`${t}-page`:""}),u=(0,o.tT)(e,"page"),r=(0,o.tT)(e,"pageSize"),p=t=>{var a;null==(a=e.onUpdatePage)||a.call(e,t),l("refresh")},c=t=>{var a;u.value=1,null==(a=e.onUpdatePage)||a.call(e,1),d(t),l("refresh")},d=e=>{i.value&&(0,n.qQ)(i.value,String(e))};if(i.value){let e=(0,n.$o)(i.value);e&&(r.value=(0,n.Dx)(e))}return(e,t)=>{let l=a.Z;return(0,o.wg)(),(0,o.j4)(l,(0,o.dG)(e.$attrs,{page:u.value,"onUpdate:page":[t[0]||(t[0]=e=>u.value=e),p],"page-size":r.value,"onUpdate:pageSize":[t[1]||(t[1]=e=>r.value=e),c],"show-size-picker":e.showSizePicker,"show-quick-jumper":e.showQuickJumper,"page-sizes":e.pageSizes,"display-order":["pages","size-picker","quick-jumper"]}),(0,o.Nv)({_:2},[e.showTotal?{name:"suffix",fn:(0,o.w5)(e=>{let{itemCount:t}=e;return[(0,o._)("span",s," Total "+(0,o.zw)(t),1)]}),key:"0"}:void 0]),1040,["page","page-size","show-size-picker","show-quick-jumper","page-sizes"])}}})},80709:function(e,t,l){l.r(t),l.d(t,{default:()=>I});var a=l(25322),o=l(80837),n=l(38322),s=l(82646),i=l(29403),u=l(25595),r=l(44971),p=l(99833),c=l(43407),d=l(58538),g=l(16821),f=l(86244);let m=e=>f.e.get("/abnormal_recipient/list",{params:e}),v=e=>f.e.post("/abnormal_recipient/delete",e,{fetchOptions:{loading:"Deleting, please wait...",successMessage:!0}});var h=l(21921),w=l(79380),_=l(86581),y=l(34909),S=l(46126),k=l(20969);let x={class:"pt-12px"},U={class:"h-32px flex items-center"},b={class:"h-32px flex items-center"},W={class:"h-32px flex items-center"},Z=(0,u.aZ)({__name:"Scan",setup(e){let t=(0,u.AE)("formRef"),l=(0,u.qj)({etype:null,oper:1}),a={etype:{trigger:"change",validator:()=>!!l.etype||Error("Please select group")}},o=(0,u.iH)([]),n=async()=>{let e=await (0,k.WH)();(0,c.Kn)(e)&&(o.value=e.list.map(e=>({label:e.name,value:e.id})))},[s,i]=(0,g.d)({onChangeState:e=>{e?n():(l.etype=null,l.oper=1)},onConfirm:async()=>{var e;await (null==(e=t.value)?void 0:e.validate())}});return(e,n)=>{let i=S.Z,r=y.ZP,p=_.Z,c=w.Z,d=h.Z;return(0,u.wg)(),(0,u.j4)((0,u.SU)(s),{title:"Scan Invalid Domains",width:"480","confirm-text":"Scan"},{default:(0,u.w5)(()=>[(0,u._)("div",x,[(0,u.Wm)(d,{ref_key:"formRef",ref:t,form:(0,u.SU)(l),rules:a},{default:(0,u.w5)(()=>[(0,u.Wm)(r,{label:"Group",path:"etype"},{default:(0,u.w5)(()=>[(0,u.Wm)(i,{value:(0,u.SU)(l).etype,"onUpdate:value":n[0]||(n[0]=e=>(0,u.SU)(l).etype=e),options:(0,u.SU)(o)},null,8,["value","options"])]),_:1}),(0,u.Wm)(r,{label:"Method"},{default:(0,u.w5)(()=>[(0,u.Wm)(c,{value:(0,u.SU)(l).oper,"onUpdate:value":n[1]||(n[1]=e=>(0,u.SU)(l).oper=e)},{default:(0,u.w5)(()=>[(0,u._)("div",U,[(0,u.Wm)(p,{value:1},{default:(0,u.w5)(()=>n[2]||(n[2]=[(0,u.Uk)("no-operation")])),_:1,__:[2]})]),(0,u._)("div",b,[(0,u.Wm)(p,{value:2},{default:(0,u.w5)(()=>n[3]||(n[3]=[(0,u.Uk)("Added to the exception prevention table")])),_:1,__:[3]})]),(0,u._)("div",W,[(0,u.Wm)(p,{value:3},{default:(0,u.w5)(()=>n[4]||(n[4]=[(0,u.Uk)("The abnormal mailbox is deleted from the group")])),_:1,__:[4]})])]),_:1},8,["value"])]),_:1})]),_:1},8,["form"])])]),_:1})}}});var z=l(20993);let j=(0,u.aZ)({__name:"index",props:{log:{default:""},loading:{type:Boolean,default:!1}},setup(e){let t=(0,u.iH)();return(0,u.YP)(()=>e.log,()=>{(0,u.Y3)(()=>{let e=t.value.$el.querySelector("code");null==e||e.scrollTo({top:9999999})})},{immediate:!0}),(e,l)=>{let a=(0,u.up)("highlightjs"),o=z.Z;return(0,u.wg)(),(0,u.j4)(o,{class:"h-full",show:e.loading},{default:(0,u.w5)(()=>[(0,u.Wm)(a,{ref_key:"logsRef",ref:t,class:"bt-log",language:"log",code:e.log},null,8,["code"])]),_:1},8,["show"])}}}),C=(0,l(83744).default)(j,[["__scopeId","data-v-0ea8c4a6"]]),P={class:"pt-12px mb-8px"},R={class:"h-400px"},$=(0,u.aZ)({__name:"ScanLogs",setup(e){let t=(0,u.iH)(!1),l=(0,u.iH)("None"),[a,o]=(0,g.d)({onChangeState:e=>{}});return(e,o)=>{let n=p.ZP;return(0,u.wg)(),(0,u.j4)((0,u.SU)(a),{title:"Scan Logs",width:"720",footer:!1},{default:(0,u.w5)(()=>[(0,u._)("div",P,[(0,u.Wm)(n,{class:"mb-8px",type:"primary"},{default:(0,u.w5)(()=>[(0,u.Uk)((0,u.zw)(e.$t("common.actions.refresh")),1)]),_:1})]),(0,u._)("div",R,[(0,u.Wm)(C,{loading:(0,u.SU)(t),log:(0,u.SU)(l)},null,8,["loading","log"])])]),_:1})}}});var H=l(23865);let G={class:"ml-8px"},I=(0,u.aZ)({__name:"index",setup(e){let{t}=(0,H.QT)(),l=(0,u.iH)(!1),f=async e=>{},[h,w]=(0,g.d)({component:Z}),_=()=>{w.open()},[y,S]=(0,g.d)({component:$}),k=()=>{S.open()},x=()=>{(0,c.iG)({title:"Clear",content:"This will clear all data under that type, do you continue?",onConfirm:async()=>{j()}})},{tableKeys:U,tableParams:b,tableProps:W,pageProps:z,fetchTable:j,resetTable:C}=(0,d.N)({params:{page:1,page_size:10,status:1,keyword:""},fetchFn:m}),P=(0,u.iH)([{type:"selection",width:40},{key:"recipient",title:"Email"},{key:"description",title:"Description"},{key:"state",title:"Status",render:e=>e.state||e.count>=3?"Invalid":"Checking"},{key:"create_time",title:"Add Time",render:e=>(0,c.mr)(e.create_time)},{title:t("common.columns.actions"),key:"actions",align:"right",width:100,render:e=>{let l;return(0,u.Wm)(r.Z,{inline:!0},{default:()=>{var a;return[(0,u.Wm)(p.ZP,{type:"error",text:!0,onClick:()=>{R(e)}},"function"!=typeof(a=l=t("common.actions.delete"))&&("[object Object]"!==Object.prototype.toString.call(a)||(0,u.lA)(a))?{default:()=>[l]}:l)]}})}}]),R=e=>{(0,c.iG)({title:"Delete",content:`Are you sure you want to delete [${e.recipient}]`,onConfirm:async()=>{await v({id:e.id}),j()}})};return(e,t)=>{let r=i.Z,c=s.Z,d=n.Z,g=o.Z,m=a.Z;return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(m,null,{toolsLeft:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(p.ZP),{type:"primary",onClick:_},{default:(0,u.w5)(()=>t[2]||(t[2]=[(0,u.Uk)("Scan Invalid Domains")])),_:1,__:[2]}),(0,u.Wm)((0,u.SU)(p.ZP),{onClick:k},{default:(0,u.w5)(()=>t[3]||(t[3]=[(0,u.Uk)("Scan Logs")])),_:1,__:[3]}),(0,u.Wm)((0,u.SU)(p.ZP),{onClick:x},{default:(0,u.w5)(()=>[(0,u.Uk)((0,u.zw)(e.$t("common.actions.clear")),1)]),_:1}),(0,u._)("div",G,[t[4]||(t[4]=(0,u._)("span",{class:"mr-12px"},"Auto block failed emails",-1)),(0,u.Wm)(r,{value:(0,u.SU)(l),"onUpdate:value":[t[0]||(t[0]=e=>(0,u.dq)(l)?l.value=e:null),f]},null,8,["value"])])]),toolsRight:(0,u.w5)(()=>[(0,u.Wm)(c,{value:(0,u.SU)(b).keyword,"onUpdate:value":t[1]||(t[1]=e=>(0,u.SU)(b).keyword=e),width:240,placeholder:"Please enter name",onSearch:(0,u.SU)(C)},null,8,["value","onSearch"])]),table:(0,u.w5)(()=>[(0,u.Wm)(d,(0,u.dG)((0,u.SU)(W),{columns:(0,u.SU)(P)}),null,16,["columns"])]),pageRight:(0,u.w5)(()=>[(0,u.Wm)(g,(0,u.dG)((0,u.SU)(z),{onRefresh:(0,u.SU)(j)}),null,16,["onRefresh"])]),modal:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(h)),(0,u.Wm)((0,u.SU)(y))]),_:1})])}}})}}]);