"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["216"],{74355:function(e,t,a){a.d(t,{Z:()=>s});var l=a(25595),r=a(85905),i=a(81051);function s(e={},t){let a=(0,l.qj)({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:n,keyup:o}=e,u=e=>{switch(e.key){case"Control":a.ctrl=!0;break;case"Meta":a.command=!0,a.win=!0;break;case"Shift":a.shift=!0;break;case"Tab":a.tab=!0}void 0!==n&&Object.keys(n).forEach(t=>{if(t!==e.key)return;let a=n[t];if("function"==typeof a)a(e);else{let{stop:t=!1,prevent:l=!1}=a;t&&e.stopPropagation(),l&&e.preventDefault(),a.handler(e)}})},c=e=>{switch(e.key){case"Control":a.ctrl=!1;break;case"Meta":a.command=!1,a.win=!1;break;case"Shift":a.shift=!1;break;case"Tab":a.tab=!1}void 0!==o&&Object.keys(o).forEach(t=>{if(t!==e.key)return;let a=o[t];if("function"==typeof a)a(e);else{let{stop:t=!1,prevent:l=!1}=a;t&&e.stopPropagation(),l&&e.preventDefault(),a.handler(e)}})},d=()=>{(void 0===t||t.value)&&((0,r.on)("keydown",document,u),(0,r.on)("keyup",document,c)),void 0!==t&&(0,l.YP)(t,e=>{e?((0,r.on)("keydown",document,u),(0,r.on)("keyup",document,c)):((0,r.S)("keydown",document,u),(0,r.S)("keyup",document,c))})};return(0,i.N)()?((0,l.wF)(d),(0,l.Jd)(()=>{(void 0===t||t.value)&&((0,r.S)("keydown",document,u),(0,r.S)("keyup",document,c))})):d(),(0,l.OT)(a)}},73217:function(e,t,a){a.d(t,{Z:()=>m});var l=a(22769),r=a(82135),i=a(45988),s=a(31739),n=a(71581),o=a(25162),u=a(84342),c=a(48366),d=Object.prototype.hasOwnProperty;let m=function(e){if(null==e)return!0;if((0,n.Z)(e)&&((0,s.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,o.Z)(e)||(0,c.Z)(e)||(0,i.Z)(e)))return!e.length;var t=(0,r.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,u.Z)(e))return!(0,l.Z)(e).length;for(var a in e)if(d.call(e,a))return!1;return!0}},91132:function(e,t,a){a.d(t,{W3:()=>d,ZP:()=>p});var l=a(25595),r=a(51045),i=a(87209),s=a(93715),n=a(34970),o=a(3141),u=a(49858);let c=(0,u.cB)("breadcrumb",`
 white-space: nowrap;
 cursor: default;
 line-height: var(--n-item-line-height);
`,[(0,u.c)("ul",`
 list-style: none;
 padding: 0;
 margin: 0;
 `),(0,u.c)("a",`
 color: inherit;
 text-decoration: inherit;
 `),(0,u.cB)("breadcrumb-item",`
 font-size: var(--n-font-size);
 transition: color .3s var(--n-bezier);
 display: inline-flex;
 align-items: center;
 `,[(0,u.cB)("icon",`
 font-size: 18px;
 vertical-align: -.2em;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `),(0,u.c)("&:not(:last-child)",[(0,u.cM)("clickable",[(0,u.cE)("link",`
 cursor: pointer;
 `,[(0,u.c)("&:hover",`
 background-color: var(--n-item-color-hover);
 `),(0,u.c)("&:active",`
 background-color: var(--n-item-color-pressed); 
 `)])])]),(0,u.cE)("link",`
 padding: 4px;
 border-radius: var(--n-item-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 position: relative;
 `,[(0,u.c)("&:hover",`
 color: var(--n-item-text-color-hover);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-hover);
 `)]),(0,u.c)("&:active",`
 color: var(--n-item-text-color-pressed);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-pressed);
 `)])]),(0,u.cE)("separator",`
 margin: 0 8px;
 color: var(--n-separator-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 `),(0,u.c)("&:last-child",[(0,u.cE)("link",`
 font-weight: var(--n-font-weight-active);
 cursor: unset;
 color: var(--n-item-text-color-active);
 `,[(0,u.cB)("icon",`
 color: var(--n-item-text-color-active);
 `)]),(0,u.cE)("separator",`
 display: none;
 `)])])]),d=(0,n.U)("n-breadcrumb"),m=Object.assign(Object.assign({},r.Z.props),{separator:{type:String,default:"/"}}),p=(0,l.aZ)({name:"Breadcrumb",props:m,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:a}=(0,i.ZP)(e),n=(0,r.Z)("Breadcrumb","-breadcrumb",c,o.Z,e,t);(0,l.JJ)(d,{separatorRef:(0,l.Vh)(e,"separator"),mergedClsPrefixRef:t});let u=(0,l.Fl)(()=>{let{common:{cubicBezierEaseInOut:e},self:{separatorColor:t,itemTextColor:a,itemTextColorHover:l,itemTextColorPressed:r,itemTextColorActive:i,fontSize:s,fontWeightActive:o,itemBorderRadius:u,itemColorHover:c,itemColorPressed:d,itemLineHeight:m}}=n.value;return{"--n-font-size":s,"--n-bezier":e,"--n-item-text-color":a,"--n-item-text-color-hover":l,"--n-item-text-color-pressed":r,"--n-item-text-color-active":i,"--n-separator-color":t,"--n-item-color-hover":c,"--n-item-color-pressed":d,"--n-item-border-radius":u,"--n-font-weight-active":o,"--n-item-line-height":m}}),m=a?(0,s.F)("breadcrumb",void 0,u,e):void 0;return{mergedClsPrefix:t,cssVars:a?void 0:u,themeClass:null==m?void 0:m.themeClass,onRender:null==m?void 0:m.onRender}},render(){var e;return null==(e=this.onRender)||e.call(this),(0,l.h)("nav",{class:[`${this.mergedClsPrefix}-breadcrumb`,this.themeClass],style:this.cssVars,"aria-label":"Breadcrumb"},(0,l.h)("ul",null,this.$slots))}})},89667:function(e,t,a){a.d(t,{Z:()=>n});var l=a(25595),r=a(14570),i=a(74976),s=a(91132);let n=(0,l.aZ)({name:"BreadcrumbItem",props:{separator:String,href:String,clickable:{type:Boolean,default:!0},onClick:Function},slots:Object,setup(e,{slots:t}){let a=(0,l.f3)(s.W3,null);if(!a)return()=>null;let{separatorRef:n,mergedClsPrefixRef:o}=a,u=function(e=i.j?window:null){let t=()=>{let{hash:t,host:a,hostname:l,href:r,origin:i,pathname:s,port:n,protocol:o,search:u}=(null==e?void 0:e.location)||{};return{hash:t,host:a,hostname:l,href:r,origin:i,pathname:s,port:n,protocol:o,search:u}},a=(0,l.iH)(t()),r=()=>{a.value=t()};return(0,l.bv)(()=>{e&&(e.addEventListener("popstate",r),e.addEventListener("hashchange",r))}),(0,l.SK)(()=>{e&&(e.removeEventListener("popstate",r),e.removeEventListener("hashchange",r))}),a}(),c=(0,l.Fl)(()=>e.href?"a":"span"),d=(0,l.Fl)(()=>u.value.href===e.href?"location":null);return()=>{let{value:a}=o;return(0,l.h)("li",{class:[`${a}-breadcrumb-item`,e.clickable&&`${a}-breadcrumb-item--clickable`]},(0,l.h)(c.value,{class:`${a}-breadcrumb-item__link`,"aria-current":d.value,href:e.href,onClick:e.onClick},t),(0,l.h)("span",{class:`${a}-breadcrumb-item__separator`,"aria-hidden":"true"},(0,r.gI)(t.separator,()=>{var t;return[null!=(t=e.separator)?t:n.value]})))}}})},14119:function(e,t,a){a.d(t,{Z:()=>u});var l=a(25595),r=a(51045),i=a(87209),s=a(87),n=a(68389);let o=Object.assign(Object.assign({},s.Kd),r.Z.props),u=(0,l.aZ)({name:"Tooltip",props:o,slots:Object,__popover__:!0,setup(e){let{mergedClsPrefixRef:t}=(0,i.ZP)(e),a=(0,r.Z)("Tooltip","-tooltip",void 0,n.Z,e,t),s=(0,l.iH)(null);return Object.assign(Object.assign({},{syncPosition(){s.value.syncPosition()},setShow(e){s.value.setShow(e)}}),{popoverRef:s,mergedTheme:a,popoverThemeOverrides:(0,l.Fl)(()=>a.value.self)})},render(){let{mergedTheme:e,internalExtraClass:t}=this;return(0,l.h)(s.ZP,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}})},20969:function(e,t,a){a.d(t,{WH:()=>n,hI:()=>s,iE:()=>d,mD:()=>c,sS:()=>u,uz:()=>v,vi:()=>m,yG:()=>p,yL:()=>o});var l=a(77527),r=a(86244);let{t:i}=l.Z.global,s=e=>r.e.get("/contact/group/list",{params:e}),n=()=>r.e.get("/contact/group/all"),o=e=>r.e.get("/contact/group/info",{params:e}),u=e=>r.e.post("/contact/group/create",e,{fetchOptions:{loading:i("contacts.group.loading.createGroup"),successMessage:!0}}),c=e=>r.e.post("/contact/group/update",e,{fetchOptions:{loading:i("contacts.group.loading.updateGroup"),successMessage:!0}}),d=e=>r.e.post("/contact/group/delete",e,{fetchOptions:{loading:i("contacts.group.loading.deleteGroup"),successMessage:!0}}),m=e=>r.e.post("/contact/group/contact_count",e),p=e=>r.e.post("/contact/group/export",e,{fetchOptions:{loading:i("contacts.group.loading.exportGroup"),successMessage:!0}}),v=e=>r.e.post("/contact/group/update",e,{fetchOptions:{loading:i("contacts.group.loading.saveSettings"),successMessage:!0}})},26973:function(e,t,a){a.d(t,{Gk:()=>n,Q5:()=>m,Xr:()=>d,ZS:()=>s,_5:()=>c,gI:()=>u,jC:()=>p,ke:()=>v,mQ:()=>o,oS:()=>f});var l=a(77527),r=a(86244);let{t:i}=l.Z.global;function s(e){return r.e.get("/batch_mail/task/list",{params:e})}function n(e){return r.e.get("/batch_mail/task/stat_chart",{params:e})}function o(e){return r.e.get("/batch_mail/task/find",{params:e})}function u(e){return r.e.post("/batch_mail/task/create",e,{fetchOptions:{loading:i("market.task.loading.creating"),successMessage:!0}})}function c(e){return r.e.post("/batch_mail/task/delete",e,{fetchOptions:{loading:i("market.task.loading.deleting"),successMessage:!0}})}function d(e){return r.e.post("/batch_mail/task/pause",e,{fetchOptions:{loading:i("market.task.loading.pausing"),successMessage:!0}})}function m(e){return r.e.post("/batch_mail/task/resume",e,{fetchOptions:{loading:i("market.task.loading.resuming"),successMessage:!0}})}function p(e){return r.e.post("/batch_mail/task/send_test",e,{fetchOptions:{loading:i("market.task.loading.sendingTest"),successMessage:!0}})}function v(e){return r.e.get("/batch_mail/tracking/mail_provider",{params:e})}function f(e){return r.e.get("/batch_mail/tracking/logs",{params:e})}},4350:function(e,t,a){a.r(t),a.d(t,{default:()=>ec});var l=a(59147),r=a(21921),i=a(90767),s=a(64657),n=a(67905),o=a(79380),u=a(86581),c=a(29403),d=a(99833),m=a(85068),p=a(34909),v=a(91132),f=a(89667),k=a(25595),b=a(86695),h=a(267),_=a(43407),g=a(26973),w=a(66844),U=a(46126),S=a(16821),y=a(20969),x=a(41074),W=a(73217),Z=a(48812),j=a(23865);let z={class:"pt-12px"},$={class:"flex-1"},C={class:"mt-8px text-12px text-desc"},O=`email,attributes
example1@example.com,"{""age"": ""13"", ""Gender"": ""XXX""}"
example2@example.com,"{""age"": ""45"", ""city"": ""XXX""}"
`,P=(0,k.aZ)({__name:"CreateGroup",setup(e){let{t}=(0,j.QT)(),a=(0,k.AE)("formRef"),l=(0,k.qj)({create_type:2,name:"",file_data:"",file_type:"",description:"",status:1}),i={name:{required:!0,message:t("market.task.createGroup.validation.groupNameRequired"),trigger:["blur","input"]}},s=[{label:"Confirmed",value:1},{label:"Unconfirmed",value:0}],n=e=>{let t=new FileReader;t.onload=t=>{var a;l.file_type=e.name.substring(e.name.lastIndexOf(".")+1),l.file_data=null==(a=t.target)?void 0:a.result},e.file&&t.readAsText(e.file)},o=async()=>{await (0,Z.Sv)({file_path:"./template/example_recipients.csv"})},u=async()=>{var e;if(await (null==(e=a.value)?void 0:e.validate()),(0,W.Z)(l.file_data))return _.v0.error(t("contacts.subscribers.import.validation.fileRequired")),Promise.reject()},[c,v]=(0,S.d)({onChangeState:e=>{e&&(l.name="",l.file_data="",l.file_type="")},onConfirm:async()=>{await u(),await (0,y.sS)((0,k.IU)(l));let e=v.getState();null==e||e.refresh()}});return(e,u)=>{let v=m.Z,f=p.ZP,b=U.Z,h=x.Z,_=d.ZP,g=r.Z;return(0,k.wg)(),(0,k.j4)((0,k.SU)(c),{title:(0,k.SU)(t)("market.task.createGroup.title"),width:"500"},{default:(0,k.w5)(()=>[(0,k._)("div",z,[(0,k.Wm)(g,{ref_key:"formRef",ref:a,model:(0,k.SU)(l),rules:i},{default:(0,k.w5)(()=>[(0,k.Wm)(f,{label:(0,k.SU)(t)("market.task.createGroup.groupName"),path:"name"},{default:(0,k.w5)(()=>[(0,k.Wm)(v,{value:(0,k.SU)(l).name,"onUpdate:value":u[0]||(u[0]=e=>(0,k.SU)(l).name=e),placeholder:(0,k.SU)(t)("market.task.createGroup.groupNamePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(f,{label:"Status"},{default:(0,k.w5)(()=>[(0,k.Wm)(b,{value:(0,k.SU)(l).status,"onUpdate:value":u[1]||(u[1]=e=>(0,k.SU)(l).status=e),options:s},null,8,["value"])]),_:1}),(0,k.Wm)(f,{label:(0,k.SU)(t)("market.task.createGroup.email"),path:"file_data"},{default:(0,k.w5)(()=>[(0,k._)("div",$,[(0,k.Wm)(h,{"is-upload":!1,accept:["csv"],onChange:n}),(0,k._)("div",C,[(0,k.Uk)((0,k.zw)(e.$t("contacts.subscribers.import.fileTypeHint"))+" ",1),(0,k.Wm)(_,{text:"",type:"primary",onClick:o},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.download")),1)]),_:1})])])]),_:1},8,["label"]),(0,k.Wm)(f,{label:e.$t("contacts.subscribers.import.exampleCsvLabel")},{default:(0,k.w5)(()=>[(0,k._)("pre",{class:"csv-example"},(0,k.zw)(O))]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"])}}});var E=a(83744);let R=(0,E.default)(P,[["__scopeId","data-v-49081638"]]),q={class:"flex-1"},T={class:"flex items-center"},M={class:"flex-1"},G={class:"ml-12px"},H=(0,k.aZ)({__name:"GroupSelect",props:{value:{default:()=>[]},valueModifiers:{},label:{default:()=>[]},labelModifiers:{}},emits:["update:value","update:label"],setup(e){let t=(0,k.tT)(e,"value"),a=(0,k.tT)(e,"label"),l=(0,k.iH)(!1),r=(0,k.iH)([]),i=(0,k.iH)(0),[s,n]=(0,S.d)({component:R,state:{refresh:()=>{c()}}}),o=()=>{n.open()},u=async e=>{if(a.value=e.map(e=>{let t=r.value.find(t=>t.value===e);return`${(null==t?void 0:t.label)||""}`}),0===e.length){i.value=0;return}let t=await (0,y.vi)({group_ids:e});(0,_.Kn)(t)&&(i.value=t.total)},c=async()=>{try{l.value=!0;let e=await (0,y.WH)();(0,_.Kn)(e)&&(r.value=e.list.map(e=>({label:e.name,value:e.id})))}finally{l.value=!1}};return c(),(e,a)=>{let n=U.Z,c=d.ZP,m=(0,k.up)("i18n-t");return(0,k.wg)(),(0,k.iD)("div",q,[(0,k._)("div",T,[(0,k._)("div",M,[(0,k.Wm)(n,{value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),u],options:(0,k.SU)(r),multiple:!0,filterable:!0,"max-tag-count":"responsive",loading:(0,k.SU)(l),placeholder:e.$t("market.task.edit.recipientsPlaceholder")},null,8,["value","options","loading","placeholder"])]),(0,k._)("div",G,[(0,k.Wm)(c,{text:"",type:"primary",onClick:o},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.create")),1)]),_:1})])]),(0,k.Wm)(m,{class:"mt-8px",tag:"div",scope:"global",keypath:"market.task.edit.recipientsCount"},{count:(0,k.w5)(()=>[(0,k._)("b",null,(0,k.zw)((0,k.SU)(i)),1)]),_:1}),(0,k.Wm)((0,k.SU)(s))])}}});var B=a(72227),F=a(29938);let I={class:"task-edit-container"},N={class:"flex flex-col flex-1 p-24px overflow-auto"},D={class:"flex-1"},L={class:"ml-12px text-desc"},X={class:"w-60px"},A={class:"flex-1 mr-10px"},K={class:"task-preview"},Q={class:"preview-header"},J={class:"preview-header-item"},V={class:"preview-label"},Y={class:"preview-value"},ee={class:"preview-header-item"},et={class:"preview-label"},ea={class:"preview-value"},el={class:"preview-header-item"},er={class:"preview-label"},ei={class:"preview-value"},es={class:"preview-content"},en={key:1,class:"empty-preview"},eo={class:"action-buttons"},eu=(0,k.aZ)({__name:"edit",setup(e){let{t}=(0,j.QT)(),a=(0,b.s6)(),U=(0,F.tv)(),S=(0,F.yj)(),y=(0,k.AE)("formRef"),x=(0,k.AE)("formContentRef"),{height:W}=(0,h.rBN)(x),Z=(0,k.qj)({addresser:null,full_name:"",subject:"",group_ids:[],template_id:null,is_record:1,unsubscribe:1,warmup:0,threads:0,start_time:null,remark:""}),z={full_name:{trigger:["blur","input"],validator:()=>""!==Z.full_name||Error(t("market.task.edit.validation.displayNameRequired"))},subject:{trigger:["blur","input"],validator:()=>""!==Z.subject||Error(t("market.task.edit.validation.subjectRequired"))},group_ids:{trigger:"change",validator:()=>0!==Z.group_ids.length||Error(t("market.task.edit.validation.recipientsRequired"))},template_id:{trigger:"change",validator:()=>null!==Z.template_id||Error(t("market.task.edit.validation.templateRequired"))},start_time:{validator:()=>1!==O.value||null!==Z.start_time||Error(t("market.task.edit.validation.sendTimeRequired"))}},$=(0,k.iH)([]),C=(0,k.iH)(0),O=(0,k.iH)(0),P=(0,k.iH)(""),E=(0,k.iH)(""),R=()=>{U.push("/template")},q=e=>{0===e?Z.threads=0:Z.threads=5},T=()=>{0===O.value&&(Z.start_time=null)},M=async()=>P.value?Z.subject?Z.template_id?void await (0,g.jC)({addresser:Z.addresser||"",subject:Z.subject,recipient:P.value,template_id:Z.template_id||0}):void _.v0.error(t("market.task.edit.validation.templateRequired")):void _.v0.error(t("market.task.edit.validation.subjectRequired")):void _.v0.error(t("market.task.edit.validation.testEmailRequired")),G=()=>{Z.subject||Z.group_ids.length>0?(0,_.iG)({title:t("market.task.edit.discard.title"),content:t("market.task.edit.discard.content"),onConfirm:()=>{U.go(-1)}}):U.go(-1)},eu=()=>{let e=Z.start_time;return(0===O.value||null===e)&&(e=Date.now()),{track_open:1,track_click:1,addresser:Z.addresser||"",full_name:Z.full_name,subject:Z.subject,group_ids:Z.group_ids,template_id:Z.template_id||0,is_record:Z.is_record,unsubscribe:Z.unsubscribe,warmup:Z.warmup,threads:Z.threads,start_time:e/1e3,remark:Z.remark}},ec=async()=>{var e;await (null==(e=y.value)?void 0:e.validate()),await (0,g.gI)(eu()),U.push("/market/task")};function ed(e){if(S.query.chat_id){let t=e.find(e=>e.chat_id==S.query.chat_id);t&&(Z.template_id=t.id,Z.subject=a.temp_subject,E.value=t.html_content)}}return(e,a)=>{let b=(0,k.up)("router-link"),h=f.Z,_=v.ZP,g=p.ZP,U=m.Z,S=d.ZP,j=c.Z,F=u.Z,eu=o.Z,em=n.Z,ep=s.ZP,ev=i.Z,ef=r.Z,ek=l.Z;return(0,k.wg)(),(0,k.iD)("div",I,[(0,k._)("div",N,[(0,k.Wm)(_,{class:"mb-20px"},{default:(0,k.w5)(()=>[(0,k.Wm)(h,null,{default:(0,k.w5)(()=>[(0,k.Wm)(b,{to:"/market/task"},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.title")),1)]),_:1})]),_:1}),(0,k.Wm)(h,null,{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.addTitle")),1)]),_:1})]),_:1}),(0,k._)("div",{class:"task-edit-box",style:(0,k.j5)({minHeight:(0,k.SU)(W)+"px"})},[(0,k.Wm)(ef,{ref_key:"formRef",ref:y,class:"task-edit-form",model:(0,k.SU)(Z),rules:z},{default:(0,k.w5)(()=>[(0,k._)("div",{ref_key:"formContentRef",ref:x},[(0,k.Wm)(ep,{class:"mb-24px"},{default:(0,k.w5)(()=>[(0,k.Wm)(g,{label:e.$t("market.task.edit.from")},{default:(0,k.w5)(()=>[(0,k.Wm)(w.Z,{value:(0,k.SU)(Z).addresser,"onUpdate:value":a[0]||(a[0]=e=>(0,k.SU)(Z).addresser=e),name:(0,k.SU)(Z).full_name,"onUpdate:name":a[1]||(a[1]=e=>(0,k.SU)(Z).full_name=e)},null,8,["value","name"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.displayName"),path:"full_name"},{default:(0,k.w5)(()=>[(0,k.Wm)(U,{value:(0,k.SU)(Z).full_name,"onUpdate:value":a[2]||(a[2]=e=>(0,k.SU)(Z).full_name=e),placeholder:e.$t("market.task.edit.displayNamePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.subject"),path:"subject"},{default:(0,k.w5)(()=>[(0,k.Wm)(U,{value:(0,k.SU)(Z).subject,"onUpdate:value":a[3]||(a[3]=e=>(0,k.SU)(Z).subject=e),placeholder:e.$t("market.task.edit.subjectPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.recipients"),type:"group_ids"},{default:(0,k.w5)(()=>[(0,k.Wm)(H,{value:(0,k.SU)(Z).group_ids,"onUpdate:value":a[4]||(a[4]=e=>(0,k.SU)(Z).group_ids=e),label:(0,k.SU)($),"onUpdate:label":a[5]||(a[5]=e=>(0,k.dq)($)?$.value=e:null)},null,8,["value","label"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.template"),path:"template_id"},{default:(0,k.w5)(()=>[(0,k._)("div",D,[(0,k.Wm)(B.Z,{value:(0,k.SU)(Z).template_id,"onUpdate:value":a[6]||(a[6]=e=>(0,k.SU)(Z).template_id=e),content:(0,k.SU)(E),"onUpdate:content":a[7]||(a[7]=e=>(0,k.dq)(E)?E.value=e:null),onListReady:ed},null,8,["value","content"])]),(0,k.Wm)(S,{text:"",type:"primary",class:"ml-12px",onClick:R},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)((0,k.SU)(t)("common.actions.create")),1)]),_:1})]),_:1},8,["label"]),(0,k.kq)("",!0),(0,k.Wm)(g,{label:(0,k.SU)(t)("market.task.edit.ipWarmup")},{default:(0,k.w5)(()=>[(0,k.Wm)(j,{value:(0,k.SU)(Z).warmup,"onUpdate:value":a[9]||(a[9]=e=>(0,k.SU)(Z).warmup=e),"checked-value":1,"unchecked-value":0},null,8,["value"]),(0,k._)("span",L,(0,k.zw)((0,k.SU)(t)("market.task.edit.ipWarmupTip")),1)]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.unsubscribeLink")},{default:(0,k.w5)(()=>[(0,k.Wm)(j,{value:(0,k.SU)(Z).unsubscribe,"onUpdate:value":a[10]||(a[10]=e=>(0,k.SU)(Z).unsubscribe=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.threads"),"show-feedback":!1},{default:(0,k.w5)(()=>[(0,k.Wm)(eu,{value:(0,k.SU)(C),"onUpdate:value":[a[11]||(a[11]=e=>(0,k.dq)(C)?C.value=e:null),q]},{default:(0,k.w5)(()=>[(0,k.Wm)(F,{value:0},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.threadsAuto")),1)]),_:1}),(0,k.Wm)(F,{value:1},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.threadsCustom")),1)]),_:1})]),_:1},8,["value"]),(0,k.wy)((0,k._)("div",X,[(0,k.Wm)(em,{value:(0,k.SU)(Z).threads,"onUpdate:value":a[12]||(a[12]=e=>(0,k.SU)(Z).threads=e),min:1,max:100,"show-button":!1},null,8,["value"])],512),[[k.F8,1===(0,k.SU)(C)]])]),_:1},8,["label"])]),_:1}),(0,k.Wm)(ep,null,{default:(0,k.w5)(()=>[(0,k.Wm)(g,{label:(0,k.SU)(t)("market.task.edit.sendTime"),path:"start_time"},{default:(0,k.w5)(()=>[(0,k.Wm)(eu,{value:(0,k.SU)(O),"onUpdate:value":[a[14]||(a[14]=e=>(0,k.dq)(O)?O.value=e:null),T],class:"flex items-center"},{default:(0,k.w5)(()=>[(0,k.Wm)(F,{value:0},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)((0,k.SU)(t)("market.task.edit.sendTimeNow")),1)]),_:1}),(0,k.Wm)(F,{class:"items-center",value:1}),(0,k.Wm)(ev,{value:(0,k.SU)(Z).start_time,"onUpdate:value":a[13]||(a[13]=e=>(0,k.SU)(Z).start_time=e),class:"ml-8px",type:"datetime",disabled:0===(0,k.SU)(O)},null,8,["value","disabled"])]),_:1},8,["value"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.remark")},{default:(0,k.w5)(()=>[(0,k.Wm)(U,{value:(0,k.SU)(Z).remark,"onUpdate:value":a[15]||(a[15]=e=>(0,k.SU)(Z).remark=e),placeholder:e.$t("market.task.edit.remarkPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,k.Wm)(g,{label:e.$t("market.task.edit.testEmail"),"show-feedback":!1},{default:(0,k.w5)(()=>[(0,k._)("div",A,[(0,k.Wm)(U,{value:(0,k.SU)(P),"onUpdate:value":a[16]||(a[16]=e=>(0,k.dq)(P)?P.value=e:null),placeholder:e.$t("market.task.edit.testEmailPlaceholder")},null,8,["value","placeholder"])]),(0,k.Wm)(S,{onClick:M},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("market.task.edit.sendTest")),1)]),_:1})]),_:1},8,["label"])]),_:1})],512)]),_:1},8,["model"]),(0,k._)("div",K,[(0,k.Wm)(ep,{class:"h-full","content-style":{display:"flex",flexDirection:"column",height:"100%"}},{default:(0,k.w5)(()=>[(0,k._)("div",Q,[(0,k._)("div",J,[(0,k._)("div",V,(0,k.zw)((0,k.SU)(t)("market.task.edit.from"))+":",1),(0,k._)("div",Y,(0,k.zw)((0,k.SU)(Z).addresser),1)]),(0,k._)("div",ee,[(0,k._)("div",et,(0,k.zw)((0,k.SU)(t)("market.task.edit.to"))+":",1),(0,k._)("div",ea,(0,k.zw)((0,k.SU)($).length>0?(0,k.SU)($).join(", "):"--"),1)]),(0,k._)("div",el,[(0,k._)("div",er,(0,k.zw)((0,k.SU)(t)("market.task.edit.subject"))+":",1),(0,k._)("div",ei,(0,k.zw)((0,k.SU)(Z).subject||"--"),1)])]),(0,k._)("div",es,[(0,k.SU)(E)?((0,k.wg)(),(0,k.j4)(ek,{key:0,value:(0,k.SU)(E)},null,8,["value"])):((0,k.wg)(),(0,k.iD)("div",en,(0,k.zw)((0,k.SU)(t)("market.task.edit.preview.empty")),1))])]),_:1})])],4)]),(0,k._)("div",eo,[(0,k.Wm)(S,{type:"primary",onClick:ec},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.confirm")),1)]),_:1}),(0,k.Wm)(S,{class:"ml-16px",secondary:"",onClick:G},{default:(0,k.w5)(()=>[(0,k.Uk)((0,k.zw)(e.$t("common.actions.back")),1)]),_:1})])])}}}),ec=(0,E.default)(eu,[["__scopeId","data-v-f43f4a70"]])}}]);