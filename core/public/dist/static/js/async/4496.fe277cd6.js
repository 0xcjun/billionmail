"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["4496"],{77984:function(e,a,t){t.d(a,{F:()=>n});var l=t(68271),i=t(94821),s=t(76882);let n=()=>{let{t:e}=s.Z.global,{copy:a,isSupported:t}=(0,i.VPI)({legacy:!0});return{copyText:async i=>{if(!i)return void l.v0.error(e("common.useCopy.noText"));t.value?(await a(i),l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},39244:function(e,a,t){t.d(a,{Z:()=>s});var l=t(93953),i=t(58786);let s=(0,i.aZ)({__name:"index",setup(e){let a=!!(0,i.Rr)().toolsLeft,t=!!(0,i.Rr)().toolsRight,s=!!(0,i.Rr)().pageLeft||!!(0,i.Rr)().pageRight;return(e,n)=>{let u=l.Z;return(0,i.wg)(),(0,i.iD)("div",null,[a||t?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"items-center mb-12px",justify:"space-between"},{default:(0,i.w5)(()=>[(0,i.Wm)(u,{class:"items-center",size:12},{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"toolsLeft")]),_:3}),(0,i.Wm)(u,{class:"items-center",size:12},{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"toolsRight")]),_:3})]),_:3})):(0,i.kq)("",!0),(0,i.WI)(e.$slots,"table"),(0,i.SU)(s)?((0,i.wg)(),(0,i.j4)(u,{key:1,class:"items-center mt-12px",justify:"space-between"},{default:(0,i.w5)(()=>[(0,i._)("div",null,[(0,i.WI)(e.$slots,"pageLeft")]),(0,i.Wm)(u,null,{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"pageRight")]),_:3})]),_:3})):(0,i.kq)("",!0),(0,i.WI)(e.$slots,"modal")])}}})},46244:function(e,a,t){t.d(a,{Z:()=>s});var l=t(98048),i=t(58786);let s=(0,i.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,a){let{expose:t}=a,s=(0,i.iH)(null);return t({validate:()=>{var e;return null==(e=s.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=s.value)?void 0:e.restoreValidation()}}),(e,a)=>{let t=l.Z;return(0,i.wg)(),(0,i.j4)(t,(0,i.dG)(e.$attrs,{ref_key:"formRef",ref:s,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},25170:function(e,a,t){t.d(a,{Z:()=>u});var l=t(75459),i=t(58786),s=t(68271);let n={class:"ml-8px text-14px"},u=(0,i.aZ)({__name:"index",props:(0,i.Vf)({storeKey:{default:""},pageSizes:{default:()=>[10,20,50,100]},showTotal:{type:Boolean,default:!0},showSizePicker:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!0}},{page:{},pageModifiers:{},pageSize:{},pageSizeModifiers:{}}),emits:(0,i.Vf)(["refresh"],["update:page","update:pageSize"]),setup(e,a){let{emit:t}=a,u=(0,i.Fl)(()=>{let{storeKey:a}=e;return a?`${a}-page`:""}),r=(0,i.tT)(e,"page"),d=(0,i.tT)(e,"pageSize"),o=e=>{r.value=e,t("refresh")},p=e=>{r.value=1,d.value=e,m(e),t("refresh")},m=e=>{u.value&&(0,s.qQ)(u.value,String(e))};if(u.value){let e=(0,s.$o)(u.value);e&&(d.value=(0,s.Dx)(e))}return(e,a)=>{let t=l.Z;return(0,i.wg)(),(0,i.j4)(t,(0,i.dG)(e.$attrs,{page:r.value,"onUpdate:page":[a[0]||(a[0]=e=>r.value=e),o],"page-size":d.value,"onUpdate:pageSize":[a[1]||(a[1]=e=>d.value=e),p],"show-size-picker":e.showSizePicker,"show-quick-jumper":e.showQuickJumper,"page-sizes":e.pageSizes,"display-order":["pages","size-picker","quick-jumper"]}),(0,i.Nv)({_:2},[e.showTotal?{name:"suffix",fn:(0,i.w5)(e=>{let{itemCount:a}=e;return[(0,i._)("span",n," Total "+(0,i.zw)(a),1)]}),key:"0"}:void 0]),1040,["page","page-size","show-size-picker","show-quick-jumper","page-sizes"])}}})},94791:function(e,a,t){t.r(a),t.d(a,{default:()=>ec});var l=t(39244),i=t(25170),s=t(75754),n=t(57869),u=t(73084),r=t(8490),d=t(17977),o=t(58786),p=t(49468),m=t(36760),c=t(17987),v=t(68271),_=t(52495);let f={class:"date-filters"},g={class:"w-120px"},w={class:"w-240px"},h=(0,o.aZ)({__name:"index",props:(0,o.Vf)({defaultType:{type:String,default:"today"}},{value:{},valueModifiers:{}}),emits:(0,o.Vf)(["change"],["update:value"]),setup(e,a){let{emit:t}=a,l=(0,o.tT)(e,"value"),{t:i}=(0,_.QT)(),s=(0,o.iH)(e.defaultType),n=[{label:i("common.time.today"),value:"today"},{label:i("common.time.yesterday"),value:"yesterday"},{label:i("common.time.last7days"),value:"last7days"},{label:i("common.time.custom"),value:"custom"}],u=()=>{let e=new Date,a=(0,p.i)(e);return[(0,m.b)((0,c.E)(e,-6)).getTime(),a.getTime()]},h=e=>{switch(e){case"today":l.value=(0,v.wb)();break;case"yesterday":l.value=(0,v.wb)((0,c.E)(new Date,-1));break;case"last7days":l.value=u()}t("change")},b=e=>{let a=new Date,t=(0,c.E)(a,-30);return(0,m.b)(t).getTime()>e||(0,p.i)(a).getTime()<e},y=e=>{s.value="custom",l.value=[(0,m.b)(e[0]).getTime(),(0,p.i)(e[1]).getTime()],t("change")};return h(e.defaultType),(e,a)=>{let t=r.Z,i=d.Z;return(0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("div",g,[(0,o.Wm)(t,{value:(0,o.SU)(s),"onUpdate:value":[a[0]||(a[0]=e=>(0,o.dq)(s)?s.value=e:null),h],options:n},null,8,["value"])]),(0,o._)("div",w,[(0,o.Wm)(i,{value:l.value,type:"daterange","is-date-disabled":b,"onUpdate:value":y},null,8,["value"])])])}}});var b=t(41748);let y=(0,b.default)(h,[["__scopeId","data-v-35dbb2f8"]]);var k=t(67655),S=t(53903),U=t(93953),x=t(22895);let W=e=>{let{fetchFn:a,params:t,rowKey:l=e=>e.id,immediate:i=!0,autoRefresh:s=!1,refreshInterval:n=3e4,useParams:u}=e,r=(0,o.qj)({loading:i}),d=(0,o.iH)([]),p=(0,o.iH)(0),m=(0,o.iH)(t),c=null,_=()=>u?u(m.value):m.value,f=(0,x.DI)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(m.value.page=1),r.loading=!0;try{let e=_(),t=await a(e);(0,v.Kn)(t)&&(d.value=(0,v.kJ)(t.list)?t.list:[],p.value=(0,v.hj)(t.total)?t.total:0)}finally{r.loading=!1}},300),g=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(e)},w=()=>g(),h=()=>{b(),s&&n>0&&(c=setInterval(()=>{r.loading||w()},n))},b=()=>{c&&(clearInterval(c),c=null)},y=(0,o.Fl)(()=>d.value.length>0);return(0,o.bv)(()=>{i&&g(),s&&h()}),(0,o.SK)(()=>{b()}),{data:(0,o.OT)(d),total:(0,o.OT)(p),loading:(0,o.Fl)(()=>r.loading),hasData:y,tableParams:m,fetch:g,resetTable:()=>g(!0),refreshTable:w,changeSort:(e,a)=>{m.value.sort_field=e,m.value.sort_order=a,g(!0)},changeFilter:e=>{Object.assign(m.value,e),g(!0)},tableConfig:(0,o.Fl)(()=>({rowKey:l,data:d.value,loading:r.loading})),pageConfig:(0,o.Fl)(()=>({page:m.value.page,pageSize:m.value.page_size,itemCount:p.value}))}};var Z=t(51169),P=t(34541);let j=e=>P.e.get("/batch_mail/api/list",{params:e}),z=e=>P.e.get("/batch_mail/api/overview_stats",{params:e}),$=e=>P.e.post("/batch_mail/api/create",e,{fetchOptions:{loading:"正在创建，请稍候...",successMessage:!0}}),C=e=>P.e.post("/batch_mail/api/update",e,{fetchOptions:{loading:"正在编辑，请稍候...",successMessage:!0}}),I=e=>P.e.post("/batch_mail/api/delete",e,{fetchOptions:{loading:"正在删除，请稍候...",successMessage:!0}}),T=(e,a)=>P.e.post("/batch_mail/api/send",a,{headers:{"x-api-key":e},fetchOptions:{loading:"正在测试，请稍候...",successMessage:!0}}),A={class:"flex gap-16px mb-24px"},R={class:"value"},q={class:"value"},E={class:"value"},D={class:"value"},F=(0,o.aZ)({__name:"Overview",props:{time:{type:Object,default:()=>[0,0]}},setup(e,a){let{expose:t}=a,l=(0,o.iH)({total_send:0,avg_delivery_rate:0,avg_open_rate:0,avg_click_rate:0,avg_bounce_rate:0,avg_unsub_rate:0,total_unsubscribe:0}),i=async()=>{let a=await z({start_time:Math.floor(e.time[0]/1e3),end_time:Math.floor(e.time[1]/1e3)});(0,v.Kn)(a)&&(l.value=a)};return t({getStats:i}),(0,o.bv)(()=>{i()}),(e,a)=>{let t=n.ZP;return(0,o.wg)(),(0,o.iD)("div",A,[(0,o.Wm)(t,{class:"flex-1"},{default:(0,o.w5)(()=>[a[0]||(a[0]=(0,o._)("div",{class:"title"},[(0,o._)("i",{class:"i-fa:paper-plane"}),(0,o._)("span",null,"发送总量")],-1)),(0,o._)("div",R,(0,o.zw)((0,o.SU)(l).total_send),1)]),_:1,__:[0]}),(0,o.Wm)(t,{class:"flex-1"},{default:(0,o.w5)(()=>[a[1]||(a[1]=(0,o._)("div",{class:"title"},[(0,o._)("i",{class:"i-fa:envelope-open"}),(0,o._)("span",null,"平均打开率")],-1)),(0,o._)("div",q,(0,o.zw)((0,o.SU)(l).avg_open_rate)+"%",1)]),_:1,__:[1]}),(0,o.Wm)(t,{class:"flex-1"},{default:(0,o.w5)(()=>[a[2]||(a[2]=(0,o._)("div",{class:"title"},[(0,o._)("i",{class:"i-fa:mouse-pointer"}),(0,o._)("span",null,"平均点击率")],-1)),(0,o._)("div",E,(0,o.zw)((0,o.SU)(l).avg_click_rate)+"%",1)]),_:1,__:[2]}),(0,o.Wm)(t,{class:"flex-1"},{default:(0,o.w5)(()=>[a[3]||(a[3]=(0,o._)("div",{class:"title"},[(0,o._)("i",{class:"i-fa:ban"}),(0,o._)("span",null,"平均退信率")],-1)),(0,o._)("div",D,(0,o.zw)((0,o.SU)(l).avg_bounce_rate)+"%",1)]),_:1,__:[3]})])}}}),M=(0,b.default)(F,[["__scopeId","data-v-e5200666"]]);var O=t(35409),H=t(77984);let K={class:"flex"},V={class:"w-0 flex-1 flex items-center"},L={class:"min-w-0"},G=(0,o.aZ)({__name:"ApiKey",props:{value:{default:""}},setup(e){let{copyText:a}=(0,H.F)(),t=async()=>{a(`${e.value}`)};return(e,a)=>{let l=O.ZP;return(0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",V,[(0,o._)("div",L,[(0,o.Wm)(l,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"300px"}}},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.value),1)]),_:1})]),(0,o._)("div",{class:"ml-6px text-15px cursor-pointer",title:"Copy",onClick:t},a[0]||(a[0]=[(0,o._)("i",{class:"i-mdi-content-copy"},null,-1)]))])])}}});var Q=t(46244),B=t(29875),J=t(6455),N=t(19664),X=t(28444),Y=t(65302);let ee={class:"flex-1"},ea=(0,o.aZ)({__name:"ApiForm",setup(e){let a=(0,o.iH)(!1),t=(0,o.Fl)(()=>a.value?"Edit API":"Add API"),l=(0,o.AE)("formRef"),i=(0,o.qj)({id:0,api_name:"",template_id:null,template_content:"",subject:"",addresser:null,full_name:"",unsubscribe:1,active:1}),s={api_name:{required:!0,message:"请输入API名称"},addresser:{required:!0,message:"请选择发送者"},full_name:{required:!0,message:"请输入发送者名称"},subject:{required:!0,message:"请输入主题"},template_id:{required:!0,message:"请选择模板"}},[n,r]=(0,Z.d)({component:Y.Z}),d=()=>{r.setState({html:i.template_content}),r.open()},p=()=>{i.id=0,i.api_name="",i.template_id=null,i.template_content="",i.subject="",i.addresser=null,i.full_name="",i.unsubscribe=1,i.active=1},m=()=>({api_name:i.api_name,template_id:i.template_id||0,subject:i.subject,addresser:i.addresser||"",full_name:i.full_name,unsubscribe:i.unsubscribe,active:i.active}),[c,v]=(0,Z.d)({onChangeState:e=>{if(e){let e=v.getState(),{row:t}=e;a.value=e.isEdit,t&&(i.id=t.id,i.api_name=t.api_name,i.template_id=t.template_id,i.subject=t.subject,i.addresser=t.addresser,i.full_name=t.full_name,i.unsubscribe=t.unsubscribe,i.active=t.active)}else p()},onConfirm:async()=>{var e;await (null==(e=l.value)?void 0:e.validate());let t=m();a.value?await C({...t,id:i.id}):await $(t),v.getState().refresh()}});return(e,a)=>{let r=u.Z,p=J.ZP,m=k.ZP,v=B.Z,_=Q.Z;return(0,o.wg)(),(0,o.j4)((0,o.SU)(c),{title:(0,o.SU)(t),width:"520"},{default:(0,o.w5)(()=>[(0,o.Wm)(_,{ref_key:"formRef",ref:l,model:(0,o.SU)(i),rules:s,class:"pt-12px"},{default:(0,o.w5)(()=>[(0,o.Wm)(p,{label:"API名称",path:"api_name"},{default:(0,o.w5)(()=>[(0,o.Wm)(r,{value:(0,o.SU)(i).api_name,"onUpdate:value":a[0]||(a[0]=e=>(0,o.SU)(i).api_name=e),placeholder:"请输入API名称"},null,8,["value"])]),_:1}),(0,o.Wm)(p,{label:e.$t("market.task.edit.from"),path:"addresser"},{default:(0,o.w5)(()=>[(0,o.Wm)(N.Z,{value:(0,o.SU)(i).addresser,"onUpdate:value":a[1]||(a[1]=e=>(0,o.SU)(i).addresser=e),name:(0,o.SU)(i).full_name,"onUpdate:name":a[2]||(a[2]=e=>(0,o.SU)(i).full_name=e)},null,8,["value","name"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:e.$t("market.task.edit.displayName"),path:"full_name"},{default:(0,o.w5)(()=>[(0,o.Wm)(r,{value:(0,o.SU)(i).full_name,"onUpdate:value":a[3]||(a[3]=e=>(0,o.SU)(i).full_name=e),placeholder:e.$t("market.task.edit.displayNamePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:e.$t("market.task.edit.subject"),path:"subject"},{default:(0,o.w5)(()=>[(0,o.Wm)(r,{value:(0,o.SU)(i).subject,"onUpdate:value":a[4]||(a[4]=e=>(0,o.SU)(i).subject=e),placeholder:e.$t("market.task.edit.subjectPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:e.$t("market.task.edit.template"),path:"template_id"},{default:(0,o.w5)(()=>[(0,o._)("div",ee,[(0,o.Wm)(X.Z,{value:(0,o.SU)(i).template_id,"onUpdate:value":a[5]||(a[5]=e=>(0,o.SU)(i).template_id=e),content:(0,o.SU)(i).template_content,"onUpdate:content":a[6]||(a[6]=e=>(0,o.SU)(i).template_content=e)},null,8,["value","content"])]),(0,o.Wm)(m,{text:"",type:"primary",class:"ml-12px",onClick:d},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("common.actions.preview")),1)]),_:1})]),_:1},8,["label"]),(0,o.Wm)(p,{label:e.$t("market.task.edit.unsubscribeLink")},{default:(0,o.w5)(()=>[(0,o.Wm)(v,{value:(0,o.SU)(i).unsubscribe,"onUpdate:value":a[7]||(a[7]=e=>(0,o.SU)(i).unsubscribe=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),(0,o.Wm)(p,{label:"状态"},{default:(0,o.w5)(()=>[(0,o.Wm)(v,{value:(0,o.SU)(i).active,"onUpdate:value":a[8]||(a[8]=e=>(0,o.SU)(i).active=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1}),(0,o.Wm)((0,o.SU)(n))]),_:1},8,["model"])]),_:1},8,["title"])}}}),et={class:"flex-1 mr-10px"},el=(0,o.aZ)({__name:"ApiTest",setup(e){let a=(0,o.AE)("formRef"),t=(0,o.qj)({key:"",recipient:""}),l={recipient:{required:!0,message:"请输入测试邮箱"}},i=()=>{t.key="",t.recipient=""},[s,n]=(0,Z.d)({onChangeState:e=>{if(e){let{row:e}=n.getState();e&&(t.key=e.api_key)}else i()},onConfirm:async()=>{var e;await (null==(e=a.value)?void 0:e.validate()),await T(t.key,{recipient:t.recipient})}});return(e,i)=>{let n=u.Z,r=J.ZP,d=Q.Z;return(0,o.wg)(),(0,o.j4)((0,o.SU)(s),{title:"Test API",width:"440"},{default:(0,o.w5)(()=>[(0,o.Wm)(d,{ref_key:"formRef",ref:a,model:(0,o.SU)(t),rules:l,class:"pt-12px"},{default:(0,o.w5)(()=>[(0,o.Wm)(r,{label:e.$t("market.task.edit.testEmail"),path:"recipient"},{default:(0,o.w5)(()=>[(0,o._)("div",et,[(0,o.Wm)(n,{value:(0,o.SU)(t).recipient,"onUpdate:value":i[0]||(i[0]=e=>(0,o.SU)(t).recipient=e),placeholder:e.$t("market.task.edit.testEmailPlaceholder")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})}}}),ei={class:"p-24px"},es={class:"flex flex-wrap items-center gap-16px"},en={class:"flex items-center"},eu={class:"flex items-center"},er={class:"w-120px"},ed={class:"flex items-center"},eo={class:"w-200px"},ep={class:"flex gap-8px"};function em(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}let ec=(0,o.aZ)({__name:"index",setup(e){let{t:a}=(0,_.QT)(),t=(0,o.AE)("overviewRef"),d=[{label:"全部",value:-1},{label:"可用",value:1},{label:"停用",value:0}],p=(0,o.iH)([{key:"api_name",title:"API名称",maxWidth:120,render:e=>(0,o.Wm)(k.ZP,{type:"primary",text:!0,onClick:()=>{P(e)}},{default:()=>[e.api_name]})},{key:"api_key",title:"API密钥",width:"28%",maxWidth:160,render:e=>(0,o.Wm)(G,{value:e.api_key},null)},{key:"send_count",title:"发送量",width:"9%",maxWidth:100},{key:"open_rate",title:"打开率",width:"9%",maxWidth:100,render:e=>`${e.open_rate}%`},{key:"click_rate",title:"点击率",width:"9%",maxWidth:100,render:e=>`${e.click_rate}%`},{key:"bounce_rate",title:"退信率",width:"9%",maxWidth:100,render:e=>`${e.bounce_rate}%`},{key:"active",title:"状态",width:"8%",maxWidth:80,render:e=>(0,o.Wm)(S.ZP,{size:"small",type:e.active?"primary":"warning",bordered:!1},{default:()=>[e.active?"可用":"停用"]})},{title:a("common.columns.actions"),key:"actions",align:"right",width:160,render:e=>{let t,l,i;return(0,o.Wm)(U.Z,{inline:!0},{default:()=>[(0,o.Wm)(k.ZP,{type:"primary",text:!0,onClick:()=>{C(e)}},em(t=a("common.actions.test"))?t:{default:()=>[t]}),(0,o.Wm)(k.ZP,{type:"primary",text:!0,onClick:()=>{P(e)}},em(l=a("common.actions.edit"))?l:{default:()=>[l]}),(0,o.Wm)(k.ZP,{type:"error",text:!0,onClick:()=>{T(e)}},em(i=a("common.actions.delete"))?i:{default:()=>[i]})]})}}]),{tableParams:m,tableConfig:c,pageConfig:f,refreshTable:g}=W({params:{page:1,page_size:10,keyword:"",active:-1,time_range:[0,0]},immediate:!1,fetchFn:j,useParams:e=>({page:e.page,page_size:e.page_size,keyword:e.keyword,active:e.active,start_time:Math.floor(e.time_range[0]/1e3),end_time:Math.floor(e.time_range[1]/1e3)})}),w=async()=>{var e;null==(e=t.value)||e.getStats(),g()},[h,b]=(0,Z.d)({component:ea,state:{isEdit:!1,refresh:g}}),x=()=>{b.setState({row:null,isEdit:!1}),b.open()},P=e=>{b.setState({row:e,isEdit:!0}),b.open()},[z,$]=(0,Z.d)({component:el,state:{row:null}}),C=e=>{$.setState({row:e}),$.open()},T=e=>{(0,v.iG)({title:`\u{5220}\u{9664}API\u{3010}${e.api_name}\u{3011}`,content:"确认删除该API吗？",onConfirm:async()=>{await I({id:e.id}),g()}})};return(0,o.bv)(()=>{g()}),(e,a)=>{let v=r.Z,_=u.Z,b=n.ZP,S=s.Z,U=i.Z,W=l.Z;return(0,o.wg)(),(0,o.iD)("div",ei,[a[8]||(a[8]=(0,o._)("div",{class:"bt-title"},"Send API",-1)),(0,o.Wm)(b,{class:"mb-24px","content-style":{padding:"16px 24px"}},{default:(0,o.w5)(()=>[(0,o._)("div",es,[(0,o._)("div",en,[a[3]||(a[3]=(0,o._)("span",{class:"text-default"},"时间范围：",-1)),(0,o.Wm)(y,{value:(0,o.SU)(m).time_range,"onUpdate:value":a[0]||(a[0]=e=>(0,o.SU)(m).time_range=e),"default-type":"last7days",onChange:w},null,8,["value"])]),(0,o._)("div",eu,[a[4]||(a[4]=(0,o._)("span",{class:"text-default"},"状态：",-1)),(0,o._)("div",er,[(0,o.Wm)(v,{value:(0,o.SU)(m).active,"onUpdate:value":[a[1]||(a[1]=e=>(0,o.SU)(m).active=e),(0,o.SU)(g)],options:d},null,8,["value","onUpdate:value"])])]),(0,o._)("div",ed,[a[5]||(a[5]=(0,o._)("span",{class:"text-default"},"搜索：",-1)),(0,o._)("div",eo,[(0,o.Wm)(_,{value:(0,o.SU)(m).keyword,"onUpdate:value":a[2]||(a[2]=e=>(0,o.SU)(m).keyword=e),placeholder:"请输入API名称",onKeyup:(0,o.D2)((0,o.SU)(g),["enter"])},null,8,["value","onKeyup"])])]),(0,o._)("div",ep,[(0,o.Wm)((0,o.SU)(k.ZP),{type:"primary",ghost:"",onClick:(0,o.SU)(g)},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("common.actions.refresh")),1)]),_:1},8,["onClick"]),(0,o.Wm)((0,o.SU)(k.ZP),{type:"primary",ghost:"",onClick:w},{default:(0,o.w5)(()=>a[6]||(a[6]=[(0,o.Uk)("刷新数据")])),_:1,__:[6]})])])]),_:1}),(0,o.Wm)(M,{ref_key:"overviewRef",ref:t,time:(0,o.SU)(m).time_range},null,8,["time"]),(0,o.Wm)(W,null,{toolsLeft:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(k.ZP),{type:"primary",onClick:x},{default:(0,o.w5)(()=>a[7]||(a[7]=[(0,o.Uk)("新建API")])),_:1,__:[7]})]),table:(0,o.w5)(()=>[(0,o.Wm)(S,(0,o.dG)((0,o.SU)(c),{columns:(0,o.SU)(p)}),null,16,["columns"])]),pageRight:(0,o.w5)(()=>[(0,o.Wm)(U,(0,o.dG)((0,o.SU)(f),{onRefresh:(0,o.SU)(g)}),null,16,["onRefresh"])]),modal:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(h)),(0,o.Wm)((0,o.SU)(z))]),_:1})])}}})},65302:function(e,a,t){t.d(a,{Z:()=>n});var l=t(53472),i=t(58786),s=t(51169);let n=(0,i.aZ)({__name:"TemplatePreview",setup(e){let a=(0,i.iH)(""),[t,n]=(0,s.d)({onChangeState:e=>{e&&(a.value=n.getState().html||"")}});return(e,s)=>{let n=l.Z;return(0,i.wg)(),(0,i.j4)((0,i.SU)(t),{title:e.$t("market.template.preview.title"),width:"820",footer:!1},{default:(0,i.w5)(()=>[(0,i.Wm)(n,{height:580,value:(0,i.SU)(a)},null,8,["value"])]),_:1},8,["title"])}}})}}]);